import{j as e,d as D,T as y,P as S,e as M,I as z,f as E,L as I}from"./radix-ui-CkGECzuE.js";import{r as T}from"./router-CLckEVPx.js";import{D as k,c as B,S as L,v as R,a as _,u as K,b as P,C as A}from"./dnd-kit-Dna8SdiU.js";import{C as N,b as H,c as V,a as q}from"./Card-C57Sxzcc.js";import{e as c,B as w,d as F}from"./index-q9RBGCVk.js";import{N as G}from"./utils-Cuc1pixd.js";const J=({id:t,children:a})=>{const{setNodeRef:r}=K({id:t});return e.jsx("div",{ref:r,className:"space-y-3",children:a})};function ae({columns:t,onDragEnd:a,renderItem:r,getItemId:n,dragOverlay:p}){const[f,v]=T.useState(null),g=s=>{const{active:d}=s,l=t.flatMap(o=>o.items).find(o=>n(o)===d.id);l&&v(l)},h=s=>{const{active:d,over:m}=s;if(v(null),!m)return;const l=d.id;let o;if(t.some(u=>u.id===m.id))o=m.id;else{const j=t.flatMap(x=>x.items).find(x=>n(x)===m.id);if(!j)return;const b=t.find(x=>x.items.some(C=>n(C)===n(j)));if(!b)return;o=b.id}a(l,o)};return e.jsxs(k,{collisionDetection:B,onDragStart:g,onDragEnd:h,children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:t.map(s=>e.jsxs(N,{className:"flex flex-col transition-all",children:[e.jsxs(H,{children:[e.jsx("div",{className:c("h-1 -mx-6 -mt-6 mb-4 rounded-t-lg bg-gradient-to-r",s.color)}),e.jsxs(V,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.title}),e.jsx(w,{variant:"secondary",children:s.items.length})]})]}),e.jsx(q,{className:"flex-1 min-h-[200px]",children:e.jsx(J,{id:s.id,children:s.items.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No items"}):e.jsx(L,{items:s.items.map(n),strategy:R,children:s.items.map(d=>e.jsx("div",{children:r(d)},n(d)))})})})]},s.id))}),e.jsx(_,{children:f&&p?p(f):null})]})}function O({...t}){return e.jsx(D,{"data-slot":"dropdown-menu",...t})}function Q({...t}){return e.jsx(y,{"data-slot":"dropdown-menu-trigger",...t})}function U({className:t,sideOffset:a=4,...r}){return e.jsx(S,{children:e.jsx(M,{"data-slot":"dropdown-menu-content",sideOffset:a,className:c("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function W({className:t,inset:a,variant:r="default",...n}){return e.jsx(z,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:c("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function re({className:t,inset:a,...r}){return e.jsx(I,{"data-slot":"dropdown-menu-label","data-inset":a,className:c("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function X({className:t,...a}){return e.jsx(E,{"data-slot":"dropdown-menu-separator",className:c("bg-border -mx-1 my-1 h-px",t),...a})}const ne=({id:t,title:a,description:r,badges:n,actions:p,children:f,className:v})=>{const{attributes:g,listeners:h,setNodeRef:s,transform:d,transition:m,isDragging:l}=P({id:t}),o=A.Transform.toString(d);return e.jsx("div",{ref:s,style:{transform:o,transition:m},className:l?"opacity-50 scale-95":"",children:e.jsx(N,{className:c("p-4 hover:shadow-md transition-all",v),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("div",{className:c("flex-1 cursor-grab active:cursor-grabbing",l&&"cursor-grabbing"),...g,...h,children:e.jsx("h4",{className:"font-medium text-foreground",children:a})}),e.jsxs(O,{children:[e.jsx(Q,{asChild:!0,children:e.jsx(F,{variant:"ghost",size:"icon-sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(U,{align:"end",children:p.map((i,u)=>e.jsxs("div",{children:[i.separator&&u>0&&e.jsx(X,{}),e.jsxs(W,{onClick:i.onClick,className:i.variant==="destructive"?"text-destructive":"",children:[i.icon&&e.jsx("span",{className:"mr-2",children:i.icon}),i.label]})]},u))})]})]}),e.jsxs("div",{className:c("cursor-grab active:cursor-grabbing",l&&"cursor-grabbing"),...g,...h,children:[r&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:r}),n&&n.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((i,u)=>e.jsxs(w,{variant:i.variant||"outline",children:[i.icon&&e.jsx("span",{className:"mr-1",children:i.icon}),i.label]},u))}),f]})]})})})};export{O as D,ae as K,Q as a,U as b,re as c,X as d,W as e,ne as f};
