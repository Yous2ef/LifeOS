import{j as e}from"./radix-ui-CneFSYrq.js";import{r as g,L as ie,b as S,d as D}from"./router-CJK1Z2Io.js";import{i as ne,G as R,B as k,c as b,u as _,s as C,t as L,y as le,b as P,p as O,A as oe,C as ce,v as de}from"./index-CO4gCy-A.js";import{u as me,G as xe,m as F}from"./GlassCard-HXv5_UBv.js";import{v as G,X as E,S as ue,ap as he,aq as ge,W as pe,ar as je,b as fe,c as ve,d as T,T as H,m as Ne,Z as U,s as $,B as ye,V as be,z as A,a4 as we,as as ke,a8 as Ce,Q as Te,a as Se}from"./utils-C1zQmt0N.js";import{C as h,a as j,b as f,c as v}from"./Card-CES3Mh8O.js";import{P as N}from"./progress-QUB5Sg2T.js";import"./react-vendor-pR2cKLDH.js";import"./charts-CDpzOIQv.js";import"./dnd-kit-Cy9T72DN.js";const B="lifeos_login_banner_dismissed",z="lifeos_login_banner_never_show",De=({variant:s="full",className:l=""})=>{const{isAuthenticated:m,isLoading:x}=ne(),[i,r]=g.useState(!1),[t,o]=g.useState(!1);if(g.useEffect(()=>{const c=sessionStorage.getItem(B),p=localStorage.getItem(z);c==="true"&&r(!0),p==="true"&&o(!0)},[]),m||x||i||t)return null;const u=()=>{sessionStorage.setItem(B,"true"),r(!0)},n=()=>{localStorage.setItem(z,"true"),o(!0)},d=[{icon:G,title:"Cloud Sync",description:"Access your data from anywhere"},{icon:he,title:"Secure Backup",description:"Never lose your data"},{icon:ge,title:"Multi-Device",description:"Sync across all devices"}];return s==="compact"?e.jsx(h,{className:`p-4 bg-primary/5 border-primary/20 ${l}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(G,{className:"text-primary",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Sign in to sync your data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your data safe with Google Drive backup"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{}),e.jsx(k,{variant:"ghost",size:"sm",onClick:u,className:"text-muted-foreground hover:text-foreground",children:e.jsx(E,{size:16})})]})]})}):e.jsxs(h,{className:`p-6 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 border-primary/20 ${l}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:e.jsx(ue,{className:"text-primary",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Unlock Cloud Features"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with Google to enable cloud sync and backup"})]})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:u,className:"text-muted-foreground hover:text-foreground -mt-2 -mr-2",children:e.jsx(E,{size:18})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:d.map(c=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/50 rounded-lg border border-border/50",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0",children:e.jsx(c.icon,{className:"text-primary",size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground text-sm",children:c.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c.description})]})]},c.title))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:n,className:"text-muted-foreground text-xs",children:"Don't show again"}),e.jsx(R,{})]})]})},Pe=()=>{const{accounts:s,goals:l,formatCurrency:m,getMonthlyStats:x}=me(),i=s.reduce((p,y)=>p+y.balance,0),r=x(),t=r.totalExpensesThisMonth,o=r.totalIncomeThisMonth,u=o-t,n=o>0?u/o*100:0,d=l.filter(p=>p.status==="active"),c=d.length>0?d.reduce((p,y)=>p+y.currentAmount/y.targetAmount*100,0)/d.length:0;return e.jsxs(xe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:e.jsx(pe,{className:"w-4 h-4 text-emerald-500"})}),e.jsx("h3",{className:"font-semibold",children:"Finance"})]}),e.jsxs(ie,{to:"/finance",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-primary transition-colors",children:["View all",e.jsx(je,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Net Worth"}),e.jsx("div",{className:"text-2xl font-bold tabular-nums",children:m(i)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-muted/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground mb-1",children:[e.jsx(fe,{className:"w-3 h-3 text-emerald-500"}),"Income"]}),e.jsxs("div",{className:"font-semibold text-emerald-600 dark:text-emerald-400 tabular-nums",children:["+",m(o)]})]}),e.jsxs("div",{className:"p-3 bg-muted/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground mb-1",children:[e.jsx(ve,{className:"w-3 h-3 text-red-500"}),"Expenses"]}),e.jsxs("div",{className:"font-semibold text-red-600 dark:text-red-400 tabular-nums",children:["-",m(t)]})]})]}),e.jsxs("div",{className:"p-3 bg-muted/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(T,{className:"w-3 h-3"}),"This Month"]}),e.jsxs("span",{className:b("text-sm font-semibold",u>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"),children:[u>=0?"+":"",m(u)]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(F.div,{className:b("h-full rounded-full",n>=20?"bg-emerald-500":n>=0?"bg-amber-500":"bg-red-500"),initial:{width:0},animate:{width:`${Math.min(Math.abs(n),100)}%`},transition:{duration:.5}})}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[n.toFixed(0),"% savings rate"]})]}),d.length>0&&e.jsxs("div",{className:"p-3 bg-muted/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(H,{className:"w-3 h-3"}),d.length," Active Goal",d.length!==1?"s":""]}),e.jsxs("span",{className:"text-sm font-semibold text-primary",children:[c.toFixed(0),"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(F.div,{className:"h-full rounded-full bg-primary",initial:{width:0},animate:{width:`${c}%`},transition:{duration:.5}})})]})]})]})},Ee=({onDismiss:s})=>{const[l,m]=g.useState(!1),x=g.useRef(null);g.useEffect(()=>{const r=t=>{x.current&&!x.current.contains(t.target)&&m(!1)};return l&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[l]);const i=r=>{s(r),m(!1)};return e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("button",{onClick:r=>{r.stopPropagation(),m(!l)},className:"p-2 text-muted-foreground hover:text-destructive hover:bg-accent rounded-lg transition-colors duration-200 flex items-center gap-1",title:"Dismiss options","aria-label":"Dismiss options",children:[e.jsx(E,{size:20}),e.jsx(Ne,{size:14})]}),l&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-popover border border-border rounded-lg shadow-2xl z-50 overflow-hidden",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:r=>{r.stopPropagation(),i("session")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For this session"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again when you reopen"})]}),e.jsxs("button",{onClick:r=>{r.stopPropagation(),i("day")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 day"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 24 hours"})]}),e.jsxs("button",{onClick:r=>{r.stopPropagation(),i("week")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 week"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 7 days"})]}),e.jsx("div",{className:"border-t border-border my-1"}),e.jsxs("button",{onClick:r=>{r.stopPropagation(),i("never")},className:"w-full px-4 py-2 text-left text-sm text-destructive hover:bg-destructive/10 transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"Never show again"}),e.jsx("div",{className:"text-xs text-destructive/80",children:"Permanently hide this notification"})]})]})})]})},Ue=S.memo(()=>{const{data:s,dismissedNotifications:l,dismissNotification:m,neverShowAgain:x}=_(),i=D(),r=g.useMemo(()=>{const t=[];s.university.tasks.filter(n=>n.priority===10&&n.status!=="done").forEach(n=>{const d=s.university.subjects.find(c=>c.id===n.subjectId);if(n.dueDate){const c=C(n.dueDate);c<=3&&t.push({id:`p10-date-${n.id}`,type:"priority10-approaching",title:c<0?"âš ï¸ OVERDUE Priority 10!":`ðŸ”¥ Priority 10 Due ${c===0?"TODAY":`in ${c} day(s)`}`,message:`${n.title} (${d?.name||"Unknown"})`,icon:U,action:()=>i("/university")})}else t.push({id:`p10-${n.id}`,type:"priority10",title:"ðŸš¨ Priority 10 Task!",message:`${n.title} (${d?.name||"Unknown"})`,icon:U,action:()=>i("/university")})}),s.university.exams.forEach(n=>{const d=C(n.date),c=s.university.subjects.find(p=>p.id===n.subjectId);L(n.date)?t.push({id:`exam-today-${n.id}`,type:"exam-today",title:"ðŸ“š EXAM TODAY!",message:`${n.title} (${c?.name||"Unknown"})`,icon:$,action:()=>i("/university")}):le(n.date)?t.push({id:`exam-tomorrow-${n.id}`,type:"exam-tomorrow",title:"âš ï¸ Exam Tomorrow!",message:`${n.title} (${c?.name||"Unknown"})`,icon:T,action:()=>i("/university")}):d===2&&t.push({id:`exam-day-after-${n.id}`,type:"exam-day-after",title:"ðŸ“… Exam in 2 Days",message:`${n.title} (${c?.name||"Unknown"})`,icon:T,action:()=>i("/university")})});const u=new Date;return t.filter(n=>{if(x.includes(n.id))return!1;const d=l.find(c=>c.id===n.id);return!(d&&(!d.dismissUntil||new Date(d.dismissUntil)>u))})},[s.university.tasks,s.university.exams,s.university.subjects,l,x,i]);return r.length===0?null:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx($,{className:"h-6 w-6 text-destructive"}),"Urgent Notifications"]}),e.jsxs(P,{variant:"destructive",className:"text-base px-4 py-2 animate-pulse",children:[e.jsx(ye,{className:"mr-2 h-4 w-4"}),r.length," Urgent"]})]}),e.jsx("div",{className:"grid gap-4",children:r.map(t=>e.jsx(h,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-all",onClick:t.action,children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-3 rounded-lg bg-destructive/10",children:e.jsx(t.icon,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:t.title}),e.jsx("p",{className:"text-muted-foreground",children:t.message})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{size:"sm",onClick:o=>{o.stopPropagation(),t.action()},children:"View"}),e.jsx(Ee,{onDismiss:o=>{m(t.id,o)}})]})]})})},t.id))})]})}),$e=S.memo(({stats:s})=>{const l=D();return e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/university"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"University Tasks"}),e.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.universityTasksCompleted,"/",s.universityTasksTotal]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.completionRate,"% completion rate"]}),e.jsx(N,{value:s.completionRate,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/university"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Due Today"}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.todayTasks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.todayTasks===0?"All clear! ðŸŽ‰":"Focus on these first"}),s.upcomingExams>0&&e.jsxs("p",{className:"text-xs text-destructive mt-1",children:[s.upcomingExams," exam(s) this week"]}),e.jsx(N,{value:s.todayTasks>0?100:0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/freelancing"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Freelancing Tasks"}),e.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.activeProjects}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active projects"}),s.totalRevenue>0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["$",s.totalRevenue.toLocaleString()," earned"]}),e.jsx(N,{value:s.completedProjects>0?Math.round(s.completedProjects/(s.activeProjects+s.completedProjects)*100):0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/programming"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Learning"}),e.jsx(ke,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.learningInProgress}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resources in progress"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.programmingProjects," active projects"]}),e.jsx(N,{value:s.learningCompleted>0?Math.round(s.learningCompleted/(s.learningInProgress+s.learningCompleted)*100):0,className:"mt-2"})]})]})]})}),Ae=S.memo(({stats:s})=>{const l=D();return e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/home"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Home & Life"}),e.jsx(Ce,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.homeTasksActive}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tasks"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[s.activeGoals," goals"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[s.activeHabits," habits"]})]}),e.jsx(N,{value:s.activeGoals>0?50:0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/programming"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Skills & Tech"}),e.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalSkills}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Skills tracked"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.learningCompleted," resources completed"]}),e.jsx(N,{value:s.totalSkills>0?Math.min(s.totalSkills/10*100,100):0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/freelancing"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Freelancing Projects"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalFreelancingProjects}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total projects"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.completedProjects," completed â€¢"," ",s.activeProjects," active"]}),e.jsx(N,{value:s.totalFreelancingProjects>0?Math.round(s.completedProjects/s.totalFreelancingProjects*100):0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l("/misc"),children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalNotes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes saved"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[s.totalBookmarks," bookmarks"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[s.quickCaptures," captures"]})]}),e.jsx(N,{value:s.totalNotes>0?Math.min(s.totalNotes/20*100,100):0,className:"mt-2"})]})]})]})}),Me=S.memo(({universityData:s,className:l})=>{const m=D(),x=g.useMemo(()=>{const i=s.tasks.filter(t=>t.status!=="done"&&t.dueDate).map(t=>({id:t.id,title:t.title,type:"Task",module:"University",date:t.dueDate,priority:t.priority,color:"from-purple-500 to-violet-600",status:t.status,isExam:!1})),r=s.exams.filter(t=>!t.taken).map(t=>{const o=s.subjects.find(u=>u.id===t.subjectId);return{id:t.id,title:`${t.title} (${o?.name||"Unknown"})`,type:"Exam",module:"University",date:t.date,priority:10,color:"from-red-500 to-rose-600",isExam:!0,status:"todo"}});return[...i,...r].sort((t,o)=>new Date(t.date).getTime()-new Date(o.date).getTime()).slice(0,5)},[s.tasks,s.exams,s.subjects]);return x.length===0?e.jsxs(h,{className:b("col-span-full opacity-50",l),children:[e.jsx(f,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Upcoming Deadlines"]})}),e.jsx(j,{children:e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No upcoming deadlines. Great job! ðŸŽ‰"})})]}):e.jsxs(h,{className:b("col-span-full",l),children:[e.jsx(f,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Upcoming Deadlines"]})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:x.map(i=>{const r=C(i.date);let t="",o="text-muted-foreground";return r<0?(t="Overdue",o="text-destructive font-bold"):r===0?(t="Today",o="text-destructive font-bold"):r===1?(t="Tomorrow",o="text-orange-500 font-bold"):t=`in ${r} days`,e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>m("/university"),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:b("h-10 w-10 rounded-full flex items-center justify-center bg-gradient-to-br text-white shadow-sm",i.color),children:i.isExam?e.jsx($,{className:"h-5 w-5"}):e.jsx(Se,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:i.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(P,{variant:"outline",className:"h-5 px-1.5 text-[10px]",children:i.type}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),O(new Date(i.date))]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:b("text-sm",o),children:t}),i.priority>=8&&e.jsx("div",{className:"mt-1",children:e.jsx(P,{variant:"destructive",className:"h-5 px-1.5 text-[10px]",children:"High Priority"})})]})]},i.id)})})})]})}),We=()=>{const{data:s}=_(),l=oe(),m=g.useMemo(()=>ce(),[]),x=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),i=g.useMemo(()=>s.programming||{learningItems:[],skills:[],tools:[],projects:[]},[s.programming]),r=g.useMemo(()=>s.freelancing?.projects||[],[s.freelancing]),t=g.useMemo(()=>{const o=s.university.tasks.filter(a=>a.status==="done").length,u=s.university.tasks.length,n=u-o,d=s.university.tasks.filter(a=>a.status!=="done"&&a.dueDate&&L(a.dueDate)).length,c=s.university.exams.filter(a=>{const w=C(a.date);return w>=0&&w<=7}).length,p=r.filter(a=>a.status==="in-progress"||a.status==="todo").length,y=r.filter(a=>a.status==="completed"||a.status==="done").length,W=r.filter(a=>a.status==="completed"||a.status==="done").reduce((a,w)=>a+(w.expectedProfit||0),0),q=r.length,V=s.freelancing.applications.filter(a=>a.status==="applied"||a.status==="interested").length,Y=(i.learningItems?.filter(a=>a.status==="in-progress"||a.status==="to-start").length||0)+(i.projects?.filter(a=>a.status==="in-progress"||a.status==="to-do").length||0),K=i.learningItems?.filter(a=>a.status==="completed").length||0,Q=i.projects?.filter(a=>a.status==="in-progress"||a.status==="to-do").length||0,X=i.skills?.length||0,M=s.home.tasks.filter(a=>a.status!=="done").length,Z=s.home.goals.filter(a=>a.progress<100).length,J=s.home.habits.filter(a=>a.streak>0).length,ee=s.misc.notes.length,se=s.misc.bookmarks.length,te=s.misc.quickCaptures.length,I=u+M,ae=o,re=I>0?Math.round(ae/I*100):0;return{universityTasksCompleted:o,universityTasksTotal:u,universityTasksActive:n,todayTasks:d,upcomingExams:c,activeProjects:p,completedProjects:y,totalFreelancingProjects:q,totalRevenue:W,pendingApplications:V,learningInProgress:Y,learningCompleted:K,programmingProjects:Q,totalSkills:X,homeTasksActive:M,activeGoals:Z,activeHabits:J,totalNotes:ee,totalBookmarks:se,quickCaptures:te,completionRate:re}},[s,i,r]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:[l,", ",s.settings.userName||"there","! ðŸ‘‹"]}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:[O(new Date)," â€¢ ",x]})]})}),e.jsxs("p",{className:"text-lg text-muted-foreground italic",children:['"',m,'"']})]}),e.jsx(de,{}),e.jsx(De,{}),e.jsx(Ue,{}),e.jsx($e,{stats:t}),e.jsx(Ae,{stats:t}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-7",children:[e.jsx(Me,{universityData:s.university,className:"col-span-full lg:col-span-4"}),e.jsx("div",{className:"col-span-full lg:col-span-3",children:e.jsx(Pe,{})})]})]})};export{We as Dashboard};
