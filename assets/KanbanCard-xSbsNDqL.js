import{j as e,d as D,T as y,P as S,e as M,I as z,f as E}from"./radix-ui-q4KaMQ3n.js";import{r as I}from"./router-Ba52I8Mc.js";import{D as T,c as k,S as B,v as R,a as _,u as K,b as P,C as A}from"./dnd-kit-DHe5TpGb.js";import{C as N,b as H,c as L,a as V}from"./Card-DVvn3yC3.js";import{e as u,B as w,d as q}from"./index-DHR3R_v5.js";import{E as F}from"./utils-BXZcBnh9.js";const G=({id:t,children:n})=>{const{setNodeRef:i}=K({id:t});return e.jsx("div",{ref:i,className:"space-y-3",children:n})};function se({columns:t,onDragEnd:n,renderItem:i,getItemId:a,dragOverlay:p}){const[f,v]=I.useState(null),g=s=>{const{active:d}=s,l=t.flatMap(o=>o.items).find(o=>a(o)===d.id);l&&v(l)},h=s=>{const{active:d,over:c}=s;if(v(null),!c)return;const l=d.id;let o;if(t.some(m=>m.id===c.id))o=c.id;else{const j=t.flatMap(x=>x.items).find(x=>a(x)===c.id);if(!j)return;const b=t.find(x=>x.items.some(C=>a(C)===a(j)));if(!b)return;o=b.id}n(l,o)};return e.jsxs(T,{collisionDetection:k,onDragStart:g,onDragEnd:h,children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:t.map(s=>e.jsxs(N,{className:"flex flex-col transition-all",children:[e.jsxs(H,{children:[e.jsx("div",{className:u("h-1 -mx-6 -mt-6 mb-4 rounded-t-lg bg-gradient-to-r",s.color)}),e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.title}),e.jsx(w,{variant:"secondary",children:s.items.length})]})]}),e.jsx(V,{className:"flex-1 min-h-[200px]",children:e.jsx(G,{id:s.id,children:s.items.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No items"}):e.jsx(B,{items:s.items.map(a),strategy:R,children:s.items.map(d=>e.jsx("div",{children:i(d)},a(d)))})})})]},s.id))}),e.jsx(_,{children:f&&p?p(f):null})]})}function J({...t}){return e.jsx(D,{"data-slot":"dropdown-menu",...t})}function O({...t}){return e.jsx(y,{"data-slot":"dropdown-menu-trigger",...t})}function Q({className:t,sideOffset:n=4,...i}){return e.jsx(S,{children:e.jsx(M,{"data-slot":"dropdown-menu-content",sideOffset:n,className:u("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...i})})}function U({className:t,inset:n,variant:i="default",...a}){return e.jsx(z,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":i,className:u("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function W({className:t,...n}){return e.jsx(E,{"data-slot":"dropdown-menu-separator",className:u("bg-border -mx-1 my-1 h-px",t),...n})}const ae=({id:t,title:n,description:i,badges:a,actions:p,children:f,className:v})=>{const{attributes:g,listeners:h,setNodeRef:s,transform:d,transition:c,isDragging:l}=P({id:t}),o=A.Transform.toString(d);return e.jsx("div",{ref:s,style:{transform:o,transition:c},className:l?"opacity-50 scale-95":"",children:e.jsx(N,{className:u("p-4 hover:shadow-md transition-all",v),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("div",{className:u("flex-1 cursor-grab active:cursor-grabbing",l&&"cursor-grabbing"),...g,...h,children:e.jsx("h4",{className:"font-medium text-foreground",children:n})}),e.jsxs(J,{children:[e.jsx(O,{asChild:!0,children:e.jsx(q,{variant:"ghost",size:"icon-sm",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(Q,{align:"end",children:p.map((r,m)=>e.jsxs("div",{children:[r.separator&&m>0&&e.jsx(W,{}),e.jsxs(U,{onClick:r.onClick,className:r.variant==="destructive"?"text-destructive":"",children:[r.icon&&e.jsx("span",{className:"mr-2",children:r.icon}),r.label]})]},m))})]})]}),e.jsxs("div",{className:u("cursor-grab active:cursor-grabbing",l&&"cursor-grabbing"),...g,...h,children:[i&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:i}),a&&a.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((r,m)=>e.jsxs(w,{variant:r.variant||"outline",children:[r.icon&&e.jsx("span",{className:"mr-1",children:r.icon}),r.label]},m))}),f]})]})})})};export{J as D,se as K,ae as a,O as b,Q as c,U as d,W as e};
