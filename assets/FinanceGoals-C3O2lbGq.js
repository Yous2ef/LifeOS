import{j as e}from"./radix-ui-CneFSYrq.js";import{r as s,L as T}from"./router-CJK1Z2Io.js";import{u as P,m as B,G as x}from"./GlassCard-HXv5_UBv.js";import{G as C,a as z,b as I,c as R,d as V}from"./GoalWithdrawalModal-CKqICnwx.js";import{S as N}from"./SkeletonCard-Bl2HcFYU.js";import{A as Y,P as q,T as v}from"./utils-C1zQmt0N.js";import"./react-vendor-pR2cKLDH.js";import"./index-CO4gCy-A.js";import"./charts-CDpzOIQv.js";import"./dnd-kit-Cy9T72DN.js";import"./Label-yKW-Cje-.js";import"./TextArea-CHJ4Ga5k.js";function le(){const{accounts:S,goals:c,settings:y,formatCurrency:i,addGoal:A,updateGoal:M,addGoalContribution:w,calculateAccountBalance:k}=P(),[W,a]=s.useState(!1),[D,d]=s.useState(!1),[E,g]=s.useState(!1),[F,o]=s.useState(!1),[u,n]=s.useState(null),[h,m]=s.useState(null),[f,p]=s.useState(null),[l,j]=s.useState(null),[L]=s.useState(!1),b=c.filter(t=>t.currentAmount<t.targetAmount),G=c.filter(t=>t.currentAmount>=t.targetAmount);return e.jsxs("div",{className:"min-h-screen bg-background text-primary pb-24",children:[e.jsx(B.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-0 z-40 backdrop-blur-xl bg-background/80 border-b border-white/10",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{to:"/finance",className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors",children:e.jsx(Y,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Financial Goals"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your savings progress"})]}),e.jsx("button",{onClick:()=>{n(null),a(!0)},className:"p-2.5 rounded-full bg-emerald-500 hover:bg-emerald-600 text-white transition-colors",children:e.jsx(q,{className:"w-5 h-5"})})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[e.jsxs(x,{intensity:"light",padding:"md",className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:c.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Goals"})]}),e.jsxs(x,{intensity:"light",padding:"md",className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:b.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),e.jsxs(x,{intensity:"light",padding:"md",className:"text-center col-span-2 sm:col-span-1",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-400",children:G.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-blue-400"}),"Active Goals"]}),L?e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[e.jsx(N,{variant:"goal"}),e.jsx(N,{variant:"goal"}),e.jsx(N,{variant:"goal"})]}):b.length===0?e.jsxs(x,{intensity:"light",padding:"lg",className:"text-center",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/50"}),e.jsx("p",{className:"text-muted-foreground",children:"No active goals yet"}),e.jsx("button",{onClick:()=>{n(null),a(!0)},className:"mt-4 px-4 py-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",children:"Create Your First Goal"})]}):e.jsx(C,{goals:b,formatCurrency:i,onGoalClick:t=>{j(t),o(!0)},onContribute:t=>{const r=c.find(O=>O.id===t);r&&(m(r),d(!0))},onAddGoal:()=>{n(null),a(!0)}})]}),G.length>0&&e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ†"}),"Completed Goals"]}),e.jsx(C,{goals:G,formatCurrency:i,onGoalClick:t=>{j(t),o(!0)},onContribute:()=>{},onAddGoal:()=>{}})]})]}),e.jsx(z,{isOpen:W,onClose:()=>{a(!1),n(null)},onSubmit:t=>{const r={title:t.title,targetAmount:t.targetAmount,currentAmount:t.currentAmount,currency:t.currency,category:t.category,priority:t.priority,deadline:t.deadline,color:t.color,icon:t.icon,monthlyContribution:0,autoAllocate:!1,status:"active",milestones:[],contributions:[]};u?M(u.id,r):A(r),a(!1),n(null)},defaultCurrency:y.defaultCurrency,goal:u},u?.id||"new-goal"),e.jsx(I,{isOpen:D,onClose:()=>{d(!1),m(null)},onSubmit:t=>{h&&(w(h.id,t.amount,t.notes),d(!1),m(null))},goal:h,accounts:S,defaultCurrency:y.defaultCurrency,formatCurrency:i,calculateBalance:k}),e.jsx(R,{isOpen:F,onClose:()=>{o(!1),j(null)},goal:l,formatCurrency:i,onEdit:()=>{l&&(n(l),o(!1),a(!0))},onContribute:()=>{l&&(m(l),o(!1),d(!0))},onWithdraw:()=>{l&&(p(l),o(!1),g(!0))}}),e.jsx(V,{isOpen:E,onClose:()=>{g(!1),p(null)},onSubmit:t=>{f&&(w(f.id,-t.amount,t.reason),g(!1),p(null))},goal:f,formatCurrency:i})]})}export{le as default};
