import{j as e}from"./radix-ui-U22BTGbQ.js";import{r as N,u as ae}from"./router-CLckEVPx.js";import{C as g,a as p,b,c as w,d as _}from"./Card-B5BV7vXC.js";import{c as C,B as Q,u as he,g as ge,a as pe,i as K,b as E,d as je,f as ee,e as v,S as fe}from"./index-DOOjm7Ao.js";import{P as k}from"./progress-Cgg8vB_p.js";import{T as ve,a as Ne,b as U,c as $}from"./tabs-BkMazor0.js";import{X as ye,m as be,W as R,T as G,A as L,n as ne,o as we,p as ke,q as W,G as se,c as B,d as q,H as z,Z as J,r as V,B as Pe,s as Te,t as te}from"./utils-DdC2hUi5.js";import"./react-vendor-pR2cKLDH.js";import"./charts-z5w_wLt1.js";const De=({onDismiss:r})=>{const[P,u]=N.useState(!1),l=N.useRef(null);N.useEffect(()=>{const o=D=>{l.current&&!l.current.contains(D.target)&&u(!1)};return P&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[P]);const d=o=>{r(o),u(!1)};return e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:o=>{o.stopPropagation(),u(!P)},className:"p-2 text-muted-foreground hover:text-destructive hover:bg-accent rounded-lg transition-colors duration-200 flex items-center gap-1",title:"Dismiss options","aria-label":"Dismiss options",children:[e.jsx(ye,{size:20}),e.jsx(be,{size:14})]}),P&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-popover border border-border rounded-lg shadow-2xl z-50 overflow-hidden",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:o=>{o.stopPropagation(),d("session")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For this session"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again when you reopen"})]}),e.jsxs("button",{onClick:o=>{o.stopPropagation(),d("day")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 day"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 24 hours"})]}),e.jsxs("button",{onClick:o=>{o.stopPropagation(),d("week")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 week"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 7 days"})]}),e.jsx("div",{className:"border-t border-border my-1"}),e.jsxs("button",{onClick:o=>{o.stopPropagation(),d("never")},className:"w-full px-4 py-2 text-left text-sm text-destructive hover:bg-destructive/10 transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"Never show again"}),e.jsx("div",{className:"text-xs text-destructive/80",children:"Permanently hide this notification"})]})]})})]})},Ce="lifeos-finance-data";function Me({compact:r=!1}){const P=ae(),u=N.useMemo(()=>{try{const o=localStorage.getItem(Ce);if(o)return JSON.parse(o)}catch(o){console.error("Error loading finance data:",o)}return{incomes:[],expenses:[],installments:[],goals:[],settings:{currency:"EGP"}}},[]),l=N.useMemo(()=>{const o=new Date,D=o.getMonth(),M=o.getFullYear(),h=u.incomes?.filter(a=>{const c=new Date(a.actualDate||a.expectedDate||a.createdAt);return c.getMonth()===D&&c.getFullYear()===M})||[],f=u.expenses?.filter(a=>{const c=new Date(a.date);return c.getMonth()===D&&c.getFullYear()===M})||[],T=h.reduce((a,c)=>a+c.amount,0),n=f.reduce((a,c)=>a+c.amount,0),S=T-n,O=T>0?(T-n)/T*100:0,I=u.installments?.filter(a=>a.status==="active").length||0,s=u.installments?.filter(a=>{if(a.status!=="active")return!1;const c=new Date(a.nextPaymentDate),m=Math.ceil((c.getTime()-o.getTime())/(1e3*60*60*24));return m>=0&&m<=7}).length||0,t=u.goals?.filter(a=>a.status==="active").length||0,x=u.goals?.filter(a=>a.status==="active").reduce((a,c)=>{const m=c.targetAmount>0?c.currentAmount/c.targetAmount*100:0;return a+m},0)/Math.max(1,t);return{totalIncome:T,totalExpenses:n,balance:S,savingsRate:O,activeInstallments:I,upcomingPayments:s,activeGoals:t,goalProgress:x}},[u]),d=o=>{const D=u.settings?.currency||"EGP",M={EGP:"Ø¬.Ù…",USD:"$",EUR:"â‚¬",GBP:"Â£",SAR:"Ø±.Ø³",AED:"Ø¯.Ø¥"};return`${o.toLocaleString("ar-EG")} ${M[D]||D}`};return r?e.jsx(g,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>P("/finance"),children:e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600",children:e.jsx(R,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Finance"}),e.jsxs("p",{className:C("text-lg font-bold",l.balance>=0?"text-green-600":"text-red-600"),children:[l.balance>=0?"+":"",d(l.balance)]})]}),l.upcomingPayments>0&&e.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:l.upcomingPayments})]}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]})})}):e.jsxs(g,{children:[e.jsx(b,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5 text-primary"}),"Ø§Ù„Ù…Ø§Ù„ÙŠØ© - Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"]}),e.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>P("/finance"),children:["Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„",e.jsx(L,{className:"h-4 w-4 mr-1"})]})]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-600 mb-1",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„Ø¯Ø®Ù„"})]}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:d(l.totalIncome)})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1 text-red-600 mb-1",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª"})]}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:d(l.totalExpenses)})]}),e.jsxs("div",{className:C("p-3 rounded-lg border",l.balance>=0?"bg-blue-500/10 border-blue-500/20":"bg-orange-500/10 border-orange-500/20"),children:[e.jsxs("div",{className:C("flex items-center gap-1 mb-1",l.balance>=0?"text-blue-600":"text-orange-600"),children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„ØµØ§ÙÙŠ"})]}),e.jsxs("p",{className:C("text-lg font-bold",l.balance>=0?"text-blue-600":"text-orange-600"),children:[l.balance>=0?"+":"",d(l.balance)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Ø§Ù„Ø£Ù‚Ø³Ø§Ø· Ø§Ù„Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.activeInstallments}),l.upcomingPayments>0&&e.jsxs("span",{className:"text-xs text-orange-500 flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),l.upcomingPayments," Ù‚Ø§Ø¯Ù…Ø©"]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.activeGoals}),l.activeGoals>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.goalProgress.toFixed(0),"% Ù…ØªÙˆØ³Ø·"]})]}),l.activeGoals>0&&e.jsx(k,{value:l.goalProgress,className:"h-1 mt-2"})]})]}),l.totalIncome>0&&e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-green-500/10 to-blue-500/10 border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ø¯Ø®Ø§Ø±"}),e.jsxs("span",{className:C("text-lg font-bold",l.savingsRate>=20?"text-green-600":l.savingsRate>=10?"text-blue-600":l.savingsRate>=0?"text-yellow-600":"text-red-600"),children:[l.savingsRate.toFixed(0),"%"]})]}),e.jsx(k,{value:Math.max(0,Math.min(100,l.savingsRate)),className:"h-2 mt-2"})]})]})]})}const Le=()=>{const{data:r,dismissedNotifications:P,dismissNotification:u,neverShowAgain:l}=he(),d=ae(),o=ge(),D=N.useMemo(()=>pe(),[]),M=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),h=N.useMemo(()=>{try{const s=localStorage.getItem("lifeos-programming-data");return s?JSON.parse(s):{learningItems:[],skills:[],tools:[],projects:[]}}catch{return{learningItems:[],skills:[],tools:[],projects:[]}}},[]),f=N.useMemo(()=>{try{const s=localStorage.getItem("lifeos-freelancing-projects");return s?JSON.parse(s):[]}catch{return[]}},[]),T=N.useMemo(()=>{try{const s=localStorage.getItem("lifeos-finance-data");return s?JSON.parse(s):{incomes:[],expenses:[],installments:[],goals:[]}}catch{return{incomes:[],expenses:[],installments:[],goals:[]}}},[]),n=N.useMemo(()=>{const s=r.university.tasks.filter(i=>i.status==="done").length,t=r.university.tasks.length,x=t-s,a=r.university.tasks.filter(i=>i.status!=="done"&&i.dueDate&&K(i.dueDate)).length,c=r.university.exams.filter(i=>{const F=E(i.date);return F>=0&&F<=7}).length,m=f.filter(i=>i.status==="in-progress"||i.status==="todo").length,A=f.filter(i=>i.status==="completed"||i.status==="done").length,Y=f.filter(i=>i.status==="completed"||i.status==="done").reduce((i,F)=>i+(F.expectedProfit||0),0),H=r.freelancing.applications.filter(i=>i.status==="applied"||i.status==="interested").length,j=(h.learningItems?.filter(i=>i.status==="in-progress"||i.status==="to-start").length||0)+(h.projects?.filter(i=>i.status==="in-progress"||i.status==="to-do").length||0),y=h.learningItems?.filter(i=>i.status==="completed").length||0,re=h.projects?.filter(i=>i.status==="in-progress"||i.status==="to-do").length||0,ie=h.skills?.length||0,X=r.home.tasks.filter(i=>i.status!=="done").length,le=r.home.goals.filter(i=>i.progress<100).length,ce=r.home.habits.filter(i=>i.streak>0).length,oe=r.misc.notes.length,de=r.misc.bookmarks.length,me=r.misc.quickCaptures.length,Z=t+X,xe=s,ue=Z>0?Math.round(xe/Z*100):0;return{universityTasksCompleted:s,universityTasksTotal:t,universityTasksActive:x,todayTasks:a,upcomingExams:c,activeProjects:m,completedProjects:A,totalRevenue:Y,pendingApplications:H,learningInProgress:j,learningCompleted:y,programmingProjects:re,totalSkills:ie,homeTasksActive:X,activeGoals:le,activeHabits:ce,totalNotes:oe,totalBookmarks:de,quickCaptures:me,completionRate:ue}},[r,h,f]),S=N.useMemo(()=>{const s=new Date,t=s.getMonth(),x=s.getFullYear(),a=T.expenses?.filter(j=>{const y=new Date(j.date);return y.getMonth()===t&&y.getFullYear()===x})||[],c=T.incomes?.filter(j=>{const y=new Date(j.actualDate||j.expectedDate||j.createdAt);return y.getMonth()===t&&y.getFullYear()===x})||[],m=a.reduce((j,y)=>j+y.amount,0),A=c.reduce((j,y)=>j+y.amount,0),Y=A-m,H=T.installments?.filter(j=>j.status==="active").length||0;return{totalExpenses:m,totalIncome:A,balance:Y,activeInstallments:H}},[T]),O=[{id:"university",name:"University",icon:se,description:"Manage courses, tasks & exams",color:"from-purple-500 to-violet-600",stats:{label:"Active Tasks",value:r.university.tasks.filter(s=>s.status!=="done").length},path:"/university"},{id:"freelancing",name:"Freelancing",icon:B,description:"Track projects & clients",color:"from-blue-500 to-cyan-600",stats:{label:"Active Projects",value:n.activeProjects},path:"/freelancing"},{id:"programming",name:"Programming",icon:q,description:"Learn & build projects",color:"from-green-500 to-emerald-600",stats:{label:"In Progress",value:n.learningInProgress},path:"/programming"},{id:"home",name:"Home & Life",icon:z,description:"Personal goals & tasks",color:"from-orange-500 to-red-600",stats:{label:"Tasks",value:r.home.tasks.filter(s=>s.status!=="done").length},path:"/home"},{id:"finance",name:"Finance",icon:R,description:"Track income & expenses",color:"from-emerald-500 to-teal-600",stats:{label:"This Month",value:`${S.balance>=0?"+":""}${S.balance.toLocaleString()}`},path:"/finance"}],I=N.useMemo(()=>{const s=[];r.university.tasks.filter(a=>a.priority===10&&a.status!=="done").forEach(a=>{const c=r.university.subjects.find(m=>m.id===a.subjectId);if(a.dueDate){const m=E(a.dueDate);m<=3&&s.push({id:`p10-date-${a.id}`,type:"priority10-approaching",title:m<0?"âš ï¸ OVERDUE Priority 10!":`ðŸ”¥ Priority 10 Due ${m===0?"TODAY":`in ${m} day(s)`}`,message:`${a.title} (${c?.name||"Unknown"})`,icon:J,action:()=>d("/university")})}else s.push({id:`p10-${a.id}`,type:"priority10",title:"ðŸš¨ Priority 10 Task!",message:`${a.title} (${c?.name||"Unknown"})`,icon:J,action:()=>d("/university")})}),r.university.exams.forEach(a=>{const c=E(a.date),m=r.university.subjects.find(A=>A.id===a.subjectId);K(a.date)?s.push({id:`exam-today-${a.id}`,type:"exam-today",title:"ðŸ“š EXAM TODAY!",message:`${a.title} (${m?.name||"Unknown"})`,icon:G,action:()=>d("/university")}):je(a.date)?s.push({id:`exam-tomorrow-${a.id}`,type:"exam-tomorrow",title:"âš ï¸ Exam Tomorrow!",message:`${a.title} (${m?.name||"Unknown"})`,icon:V,action:()=>d("/university")}):c===2&&s.push({id:`exam-day-after-${a.id}`,type:"exam-day-after",title:"ðŸ“… Exam in 2 Days",message:`${a.title} (${m?.name||"Unknown"})`,icon:V,action:()=>d("/university")})});const x=new Date;return s.filter(a=>{if(l.includes(a.id))return!1;const c=P.find(m=>m.id===a.id);return!(c&&(!c.dismissUntil||new Date(c.dismissUntil)>x))})},[r,P,l,d]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:[o,", ",r.settings.userName||"there","! ðŸ‘‹"]}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:[ee(new Date)," â€¢ ",M]})]}),I.length>0&&e.jsxs(v,{variant:"destructive",className:"text-base px-4 py-2 animate-pulse",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),I.length," Urgent"]})]}),e.jsxs("p",{className:"text-lg text-muted-foreground italic",children:['"',D,'"']})]}),e.jsx(fe,{}),I.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(G,{className:"h-6 w-6 text-destructive"}),"Urgent Notifications"]}),e.jsx("div",{className:"grid gap-4",children:I.map(s=>e.jsx(g,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-all",onClick:s.action,children:e.jsx(p,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-3 rounded-lg bg-destructive/10",children:e.jsx(s.icon,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:s.message})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{size:"sm",onClick:t=>{t.stopPropagation(),s.action()},children:"View"}),e.jsx(De,{onDismiss:t=>{u(s.id,t)}})]})]})})},s.id))})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/university"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"University Tasks"}),e.jsx(se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[n.universityTasksCompleted,"/",n.universityTasksTotal]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.completionRate,"% completion rate"]}),e.jsx(k,{value:n.completionRate,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/university"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Due Today"}),e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.todayTasks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.todayTasks===0?"All clear! ðŸŽ‰":"Focus on these first"}),n.upcomingExams>0&&e.jsxs("p",{className:"text-xs text-destructive mt-1",children:[n.upcomingExams," exam(s) this week"]}),e.jsx(k,{value:n.todayTasks>0?100:0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/freelancing"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Freelancing Tasks"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.activeProjects}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active projects"}),n.totalRevenue>0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["$",n.totalRevenue.toLocaleString()," earned"]}),e.jsx(k,{value:n.completedProjects>0?Math.round(n.completedProjects/(n.activeProjects+n.completedProjects)*100):0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/programming"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Learning"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.learningInProgress}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resources in progress"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.programmingProjects," active projects"]}),e.jsx(k,{value:n.learningCompleted>0?Math.round(n.learningCompleted/(n.learningInProgress+n.learningCompleted)*100):0,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/home"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Home & Life"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.homeTasksActive}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tasks"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[n.activeGoals," goals"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[n.activeHabits," habits"]})]}),e.jsx(k,{value:n.activeGoals>0?50:0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/programming"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Skills & Tech"}),e.jsx(J,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.totalSkills}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Skills tracked"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.learningCompleted," resources completed"]}),e.jsx(k,{value:n.totalSkills>0?Math.min(n.totalSkills/10*100,100):0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/freelancing"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Freelancing Projects"}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total projects"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.completedProjects," completed â€¢"," ",n.activeProjects," active"]}),e.jsx(k,{value:f.length>0?Math.round(n.completedProjects/f.length*100):0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/misc"),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx(te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.totalNotes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes saved"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[n.totalBookmarks," bookmarks"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[n.quickCaptures," captures"]})]}),e.jsx(k,{value:n.totalNotes>0?Math.min(n.totalNotes/20*100,100):0,className:"mt-2"})]})]})]}),(()=>{const s=[...r.university.tasks.filter(t=>t.status!=="done"&&t.dueDate).map(t=>({id:t.id,title:t.title,type:"Task",module:"University",date:t.dueDate,priority:t.priority,color:"from-purple-500 to-violet-600",status:t.status})),...r.university.exams.filter(t=>!t.taken).map(t=>{const x=r.university.subjects.find(a=>a.id===t.subjectId);return{id:t.id,title:t.title,type:"Exam",module:x?.name||"University",date:t.date,priority:10,color:"from-purple-500 to-violet-600",status:"upcoming"}}),...f.filter(t=>t.status!=="completed"&&t.status!=="done"&&t.deadline).map(t=>({id:t.id,title:t.name,type:"Project",module:"Freelancing",date:t.deadline,priority:t.priority||8,color:"from-blue-500 to-cyan-600",status:t.status})),...r.home.goals.filter(t=>t.targetDate&&t.progress<100).map(t=>({id:t.id,title:t.title,type:"Goal",module:"Home",date:t.targetDate,priority:5,color:"from-orange-500 to-red-600",status:"active"}))].filter(t=>E(t.date)>=-7).sort((t,x)=>new Date(t.date).getTime()-new Date(x.date).getTime()).slice(0,6);return s.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(V,{className:"h-6 w-6"}),"Upcoming Deadlines"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:s.map(t=>{const x=E(t.date),a=x<=2,c=x<0;return e.jsx(g,{className:C("hover:shadow-md transition-shadow",c&&"border-l-4 border-l-destructive",a&&!c&&"border-l-4 border-l-warning"),children:e.jsx(p,{className:"pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium line-clamp-1",children:t.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.type," â€¢"," ",t.module]})]}),e.jsxs(v,{variant:t.priority>=8?"destructive":t.priority>=5?"default":"secondary",className:"text-xs",children:["P",t.priority]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:ee(new Date(t.date))}),e.jsx(v,{variant:c?"destructive":a?"default":"outline",children:c?`${Math.abs(x)} day(s) overdue`:x===0?"Today":x===1?"Tomorrow":`${x} days`})]})]})})},t.id)})})]}):null})(),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(W,{className:"h-6 w-6"}),"Your Modules"]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:O.map(s=>e.jsxs(g,{className:"group cursor-pointer hover:shadow-lg transition-all duration-300 overflow-hidden",onClick:()=>d(s.path),children:[e.jsx("div",{className:C("h-2 bg-gradient-to-r",s.color)}),e.jsxs(b,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:C("p-3 rounded-lg bg-gradient-to-br",s.color,"shadow-lg"),children:e.jsx(s.icon,{className:"h-6 w-6 text-white"})}),e.jsx(L,{className:"h-5 w-5 text-muted-foreground group-hover:translate-x-1 transition-transform"})]}),e.jsx(w,{children:s.name}),e.jsx(_,{children:s.description})]}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s.stats.label}),e.jsx(v,{variant:"secondary",children:s.stats.value})]})})]},s.id))})]}),e.jsx(Me,{}),e.jsxs(g,{children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Recent Activity"]}),e.jsx(_,{children:"Quick overview of your latest tasks and projects"})]}),e.jsx(p,{children:e.jsxs(ve,{defaultValue:"university",className:"w-full",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[e.jsxs(U,{value:"university",children:[e.jsx("span",{className:"hidden sm:inline",children:"University"}),e.jsx("span",{className:"sm:hidden",children:"Uni"})]}),e.jsxs(U,{value:"freelancing",children:[e.jsx("span",{className:"hidden sm:inline",children:"Freelancing"}),e.jsx("span",{className:"sm:hidden",children:"Free"})]}),e.jsxs(U,{value:"programming",children:[e.jsx("span",{className:"hidden sm:inline",children:"Programming"}),e.jsx("span",{className:"sm:hidden",children:"Code"})]}),e.jsxs(U,{value:"home",children:[e.jsx("span",{className:"hidden sm:inline",children:"Home & Life"}),e.jsx("span",{className:"sm:hidden",children:"Home"})]})]}),e.jsxs($,{value:"university",className:"space-y-4 mt-4",children:[r.university.tasks.slice(0,5).length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(te,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No tasks yet"})]}):r.university.tasks.slice(0,5).map(s=>{const t=r.university.subjects.find(x=>x.id===s.subjectId);return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:s.priority>=8?"destructive":s.priority>=5?"default":"secondary",children:["P",s.priority]}),e.jsx(v,{variant:s.status==="done"?"secondary":"outline",children:s.status})]})]},s.id)}),r.university.tasks.length>5&&e.jsxs(Q,{variant:"outline",className:"w-full",onClick:()=>d("/university"),children:["View All Tasks",e.jsx(L,{className:"ml-2 h-4 w-4"})]})]}),e.jsx($,{value:"freelancing",className:"space-y-4 mt-4",children:f.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(B,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No projects yet"})]}):f.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.clientName||s.client||"No client"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:"outline",children:s.status}),s.expectedProfit&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",s.expectedProfit]})]})]},s.id))}),e.jsx($,{value:"programming",className:"space-y-4 mt-4",children:(h.learningItems?.length||0)===0&&(h.projects?.length||0)===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(q,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No learning resources yet"})]}):e.jsxs(e.Fragment,{children:[h.learningItems?.length>0&&e.jsx(e.Fragment,{children:h.learningItems.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.type})]}),e.jsx(v,{variant:s.status==="completed"?"secondary":"outline",children:s.status})]},s.id))}),h.projects?.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-4",children:"Active Projects"}),h.projects.filter(s=>s.status==="in-progress").slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:s.description||"No description"})]}),e.jsx(v,{variant:"default",children:s.status})]},s.id))]})]})}),e.jsx($,{value:"home",className:"space-y-4 mt-4",children:r.home.tasks.length===0&&r.home.goals.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No tasks or goals yet"})]}):e.jsxs(e.Fragment,{children:[r.home.tasks.slice(0,5).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Home Tasks"}),r.home.tasks.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",children:s.priority}),e.jsx(v,{variant:s.status==="done"?"secondary":"outline",children:s.status})]})]},s.id))]}),r.home.goals.slice(0,3).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-4",children:"Personal Goals"}),r.home.goals.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",children:[s.progress,"%"]}),e.jsx(k,{value:s.progress,className:"w-16 h-2"})]})]},s.id))]})]})})]})})]})]})};export{Le as Dashboard};
