import{j as e}from"./radix-ui-q4KaMQ3n.js";import{r as u}from"./router-Ba52I8Mc.js";import{C as v,b as k,c as C,a as y}from"./Card-BOBbUquv.js";import{e as ne,u as S,M as I,d,B as w,f as D}from"./index-FKt_UJHc.js";import{T as ie,a as ce,b as B,c as q}from"./tabs-IDjwLZ54.js";import{a as F,T as U,F as $}from"./TextArea-knNelttm.js";import{X as H,z as oe,a4 as L,a5 as A,a6 as de,p as me,P as M,s as E,t as O,a7 as ue,n as xe,O as he,m as pe,u as ge}from"./utils-BXZcBnh9.js";import"./react-vendor-pR2cKLDH.js";import"./charts-CDhWM7dn.js";function fe({className:r,type:o,...t}){return e.jsx("input",{type:o,"data-slot":"input",className:ne("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}const je=({isOpen:r,onClose:o,note:t})=>{const{data:x,updateData:j,showToast:n}=S(),[l,m]=u.useState({title:"",content:"",tags:[],newTag:""});u.useEffect(()=>{m(t?{title:t.title,content:t.content,tags:t.tags,newTag:""}:{title:"",content:"",tags:[],newTag:""})},[t,r]);const p=a=>{const{name:c,value:h}=a.target;m(b=>({...b,[c]:h}))},N=()=>{l.newTag.trim()&&!l.tags.includes(l.newTag.trim())&&m(a=>({...a,tags:[...a.tags,a.newTag.trim()],newTag:""}))},f=a=>{m(c=>({...c,tags:c.tags.filter(h=>h!==a)}))},g=a=>{if(a.preventDefault(),!l.title.trim()){n("Please enter a note title","error");return}const c={id:t?.id||`note-${Date.now()}`,title:l.title.trim(),content:l.content.trim(),tags:l.tags,createdAt:t?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};t?(j({misc:{...x.misc,notes:x.misc.notes.map(h=>h.id===t.id?c:h)}}),n("Note updated successfully!","success")):(j({misc:{...x.misc,notes:[...x.misc.notes,c]}}),n("Note added successfully!","success")),o()};return e.jsx(I,{isOpen:r,onClose:o,title:t?"Edit Note":"Add Note",footer:e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"secondary",onClick:o,children:"Cancel"}),e.jsxs(d,{variant:"default",onClick:g,children:[t?"Update":"Add"," Note"]})]}),children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsx(F,{label:"Note Title *",name:"title",value:l.title,onChange:p,placeholder:"e.g., Meeting notes",required:!0}),e.jsx(U,{label:"Content",name:"content",value:l.content,onChange:p,placeholder:"Write your note here...",rows:6}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"newTag",value:l.newTag,onChange:p,placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border rounded-md",onKeyPress:a=>{a.key==="Enter"&&(a.preventDefault(),N())}}),e.jsx(d,{type:"button",variant:"secondary",onClick:N,children:"Add"})]}),l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.tags.map(a=>e.jsxs(w,{variant:"secondary",className:"flex items-center gap-1",children:[a,e.jsx("button",{type:"button",onClick:()=>f(a),className:"ml-1 hover:text-destructive",children:e.jsx(H,{className:"w-3 h-3"})})]},a))})]})]})})},Ne=({isOpen:r,onClose:o,bookmark:t})=>{const{data:x,updateData:j,showToast:n}=S(),[l,m]=u.useState({title:"",url:"",category:"personal",tags:[],newTag:""});u.useEffect(()=>{m(t?{title:t.title,url:t.url,category:t.category,tags:t.tags,newTag:""}:{title:"",url:"",category:"personal",tags:[],newTag:""})},[t,r]);const p=a=>{const{name:c,value:h}=a.target;m(b=>({...b,[c]:h}))},N=()=>{l.newTag.trim()&&!l.tags.includes(l.newTag.trim())&&m(a=>({...a,tags:[...a.tags,a.newTag.trim()],newTag:""}))},f=a=>{m(c=>({...c,tags:c.tags.filter(h=>h!==a)}))},g=a=>{if(a.preventDefault(),!l.title.trim()||!l.url.trim()){n("Please enter title and URL","error");return}const c={id:t?.id||`bookmark-${Date.now()}`,title:l.title.trim(),url:l.url.trim(),category:l.category,tags:l.tags,createdAt:t?.createdAt||new Date().toISOString()};t?(j({misc:{...x.misc,bookmarks:x.misc.bookmarks.map(h=>h.id===t.id?c:h)}}),n("Bookmark updated successfully!","success")):(j({misc:{...x.misc,bookmarks:[...x.misc.bookmarks,c]}}),n("Bookmark added successfully!","success")),o()};return e.jsx(I,{isOpen:r,onClose:o,title:t?"Edit Bookmark":"Add Bookmark",footer:e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"secondary",onClick:o,children:"Cancel"}),e.jsxs(d,{variant:"default",onClick:g,children:[t?"Update":"Add"," Bookmark"]})]}),children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsx(F,{label:"Bookmark Title *",name:"title",value:l.title,onChange:p,placeholder:"e.g., React Documentation",required:!0}),e.jsx(F,{label:"URL *",name:"url",type:"url",value:l.url,onChange:p,placeholder:"https://example.com",required:!0}),e.jsx($,{label:"Category",name:"category",value:l.category,onChange:p,options:[{value:"work",label:"Work"},{value:"personal",label:"Personal"},{value:"learning",label:"Learning"},{value:"reference",label:"Reference"},{value:"inspiration",label:"Inspiration"},{value:"tools",label:"Tools"}]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"newTag",value:l.newTag,onChange:p,placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border rounded-md",onKeyPress:a=>{a.key==="Enter"&&(a.preventDefault(),N())}}),e.jsx(d,{type:"button",variant:"secondary",onClick:N,children:"Add"})]}),l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.tags.map(a=>e.jsxs(w,{variant:"secondary",className:"flex items-center gap-1",children:[a,e.jsx("button",{type:"button",onClick:()=>f(a),className:"ml-1 hover:text-destructive",children:e.jsx(H,{className:"w-3 h-3"})})]},a))})]})]})})},ve=({isOpen:r,onClose:o,capture:t})=>{const{data:x,updateData:j,showToast:n}=S(),[l,m]=u.useState({content:"",module:"",processed:!1});u.useEffect(()=>{m(t?{content:t.content,module:t.module||"",processed:t.processed}:{content:"",module:"",processed:!1})},[t,r]);const p=f=>{const{name:g,value:a}=f.target;m(c=>({...c,[g]:a}))},N=f=>{if(f.preventDefault(),!l.content.trim()){n("Please enter content","error");return}const g={id:t?.id||`capture-${Date.now()}`,content:l.content.trim(),module:l.module||void 0,processed:l.processed,createdAt:t?.createdAt||new Date().toISOString()};t?(j({misc:{...x.misc,quickCaptures:x.misc.quickCaptures.map(a=>a.id===t.id?g:a)}}),n("Capture updated successfully!","success")):(j({misc:{...x.misc,quickCaptures:[...x.misc.quickCaptures,g]}}),n("Capture added successfully!","success")),o()};return e.jsx(I,{isOpen:r,onClose:o,title:t?"Edit Quick Capture":"Quick Capture",footer:e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"secondary",onClick:o,children:"Cancel"}),e.jsx(d,{variant:"default",onClick:N,children:t?"Update":"Capture"})]}),children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsx(U,{label:"Content *",name:"content",value:l.content,onChange:p,placeholder:"Quickly capture your thought or idea...",rows:4,required:!0}),e.jsx($,{label:"Related Module (Optional)",name:"module",value:l.module,onChange:p,options:[{value:"",label:"None"},{value:"university",label:"University"},{value:"freelancing",label:"Freelancing"},{value:"programming",label:"Programming"},{value:"home",label:"Home"},{value:"misc",label:"Miscellaneous"}]})]})})},Be=()=>{const{data:r,updateData:o,showToast:t}=S(),[x,j]=u.useState("notes"),[n,l]=u.useState(""),[m,p]=u.useState(!1),[N,f]=u.useState(!1),[g,a]=u.useState(!1),[c,h]=u.useState(void 0),[b,P]=u.useState(void 0),[K,Q]=u.useState(void 0),T=u.useMemo(()=>{const s=r.misc.notes.length,i=r.misc.bookmarks.length,ae=r.misc.quickCaptures.length,le=r.misc.quickCaptures.filter(re=>!re.processed).length;return{totalNotes:s,totalBookmarks:i,totalCaptures:ae,unprocessedCaptures:le}},[r.misc]),R=u.useMemo(()=>n?r.misc.notes.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())||s.content.toLowerCase().includes(n.toLowerCase())||s.tags.some(i=>i.toLowerCase().includes(n.toLowerCase()))):r.misc.notes,[r.misc.notes,n]),z=u.useMemo(()=>n?r.misc.bookmarks.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())||s.category.toLowerCase().includes(n.toLowerCase())||s.tags.some(i=>i.toLowerCase().includes(n.toLowerCase()))):r.misc.bookmarks,[r.misc.bookmarks,n]),W=()=>{h(void 0),p(!0)},V=s=>{h(s),p(!0)},X=s=>{confirm("Are you sure you want to delete this note?")&&(o({misc:{...r.misc,notes:r.misc.notes.filter(i=>i.id!==s)}}),t("Note deleted successfully","success"))},_=()=>{P(void 0),f(!0)},G=s=>{P(s),f(!0)},J=s=>{confirm("Are you sure you want to delete this bookmark?")&&(o({misc:{...r.misc,bookmarks:r.misc.bookmarks.filter(i=>i.id!==s)}}),t("Bookmark deleted successfully","success"))},Y=()=>{Q(void 0),a(!0)},Z=s=>{Q(s),a(!0)},ee=s=>{confirm("Are you sure you want to delete this capture?")&&(o({misc:{...r.misc,quickCaptures:r.misc.quickCaptures.filter(i=>i.id!==s)}}),t("Capture deleted successfully","success"))},se=s=>{o({misc:{...r.misc,quickCaptures:r.misc.quickCaptures.map(i=>i.id===s?{...i,processed:!0}:i)}}),t("Capture marked as processed","success")},te=s=>({work:"bg-blue-500/10 text-blue-500",personal:"bg-purple-500/10 text-purple-500",learning:"bg-green-500/10 text-green-500",reference:"bg-orange-500/10 text-orange-500",inspiration:"bg-pink-500/10 text-pink-500",tools:"bg-cyan-500/10 text-cyan-500"})[s.toLowerCase()]||"bg-gray-500/10 text-gray-500";return e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 gradient-text",children:"Miscellaneous"}),e.jsx("p",{className:"text-muted-foreground",children:"Notes, bookmarks, and quick captures for everything else"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.totalNotes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"notes saved"})]})]}),e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Bookmarks"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.totalBookmarks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"links bookmarked"})]})]}),e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Quick Captures"}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.totalCaptures}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"items captured"})]})]}),e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Inbox Items"}),e.jsx(A,{className:"h-4 w-4 text-orange-500"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.unprocessedCaptures}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"need processing"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(fe,{placeholder:"Search notes, bookmarks, and captures...",value:n,onChange:s=>l(s.target.value),className:"pl-10"})]}),e.jsxs(ie,{value:x,onValueChange:j,children:[e.jsxs(ce,{children:[e.jsxs(B,{value:"notes",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Notes"]}),e.jsxs(B,{value:"bookmarks",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Bookmarks"]}),e.jsxs(B,{value:"captures",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Quick Captures"]})]}),e.jsxs(q,{value:"notes",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:W,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Add Note"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[R.map(s=>e.jsxs(v,{className:"group",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(C,{className:"text-lg",children:s.title}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(d,{size:"sm",variant:"ghost",onClick:()=>V(s),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(d,{size:"sm",variant:"ghost",onClick:()=>X(s.id),children:e.jsx(O,{className:"w-4 h-4"})})]})]})}),e.jsxs(y,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:s.content}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map(i=>e.jsxs(w,{variant:"secondary",children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),i]},i))}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(xe,{className:"w-3 h-3"}),"Updated ",D(s.updatedAt)]})]})]},s.id)),R.length===0&&e.jsx(v,{className:"col-span-full",children:e.jsx(y,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:n?"No notes found matching your search":"No notes yet. Create your first note!"})})})]})]}),e.jsxs(q,{value:"bookmarks",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:_,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Add Bookmark"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[z.map(s=>e.jsxs(v,{className:"group",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs(C,{className:"text-lg flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),s.title]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(d,{size:"sm",variant:"ghost",onClick:()=>G(s),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(d,{size:"sm",variant:"ghost",onClick:()=>J(s.id),children:e.jsx(O,{className:"w-4 h-4"})})]})]})}),e.jsxs(y,{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(w,{className:te(s.category),children:s.category})}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map(i=>e.jsx(w,{variant:"outline",children:i},i))}),e.jsx(d,{variant:"outline",className:"w-full",asChild:!0,children:e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Open Link"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(pe,{className:"w-3 h-3"}),"Added ",D(s.createdAt)]})]})]},s.id)),z.length===0&&e.jsx(v,{className:"col-span-full",children:e.jsx(y,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:n?"No bookmarks found matching your search":"No bookmarks yet. Add your first bookmark!"})})})]})]}),e.jsxs(q,{value:"captures",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:Y,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Quick Capture"]})}),e.jsxs("div",{className:"space-y-3",children:[r.misc.quickCaptures.map(s=>e.jsx(v,{className:s.processed?"opacity-60":"",children:e.jsx(y,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 cursor-pointer",onClick:()=>se(s.id),children:s.processed?e.jsx(ge,{className:"w-5 h-5 text-green-500"}):e.jsx(A,{className:"w-5 h-5 text-orange-500"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("p",{className:s.processed?"line-through":"",children:s.content}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.module&&e.jsx(w,{variant:"secondary",children:s.module}),e.jsx("span",{className:"text-xs text-muted-foreground",children:D(s.createdAt)})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(d,{size:"sm",variant:"ghost",onClick:()=>Z(s),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(d,{size:"sm",variant:"ghost",onClick:()=>ee(s.id),children:e.jsx(O,{className:"w-4 h-4"})})]})]})})},s.id)),r.misc.quickCaptures.length===0&&e.jsx(v,{children:e.jsx(y,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"No quick captures yet. Capture your first idea!"})})})]})]})]}),e.jsx(je,{isOpen:m,onClose:()=>p(!1),note:c}),e.jsx(Ne,{isOpen:N,onClose:()=>f(!1),bookmark:b}),e.jsx(ve,{isOpen:g,onClose:()=>a(!1),capture:K})]})};export{Be as Misc};
