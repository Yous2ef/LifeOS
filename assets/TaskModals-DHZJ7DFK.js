import{r as m}from"./router-BQf8R6iK.js";import{u as v,M as b,B as k}from"./index-Dn5yG4Az.js";import{j as a}from"./radix-ui-C3V2uSY1.js";import{F as f,T as y}from"./TextArea-C7vAED9K.js";import{F as C}from"./FormSelect-BwTQkGvn.js";const T=()=>({profile:{name:"",title:"",email:"",phone:"",portfolioUrl:"",cvVersions:[],platforms:[]},applications:[],projects:[],projectTasks:[],standaloneTasks:[]}),F=()=>{const{data:i,updateData:u}=v(),p=m.useMemo(()=>({...T(),...i.freelancing}),[i.freelancing]),r=p.projects,l=m.useCallback(d=>{u({freelancing:d(p)})},[p,u]),t=m.useCallback(d=>{const c={...d,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return l(e=>({...e,projects:[...e.projects,c]})),c},[l]),s=m.useCallback((d,c)=>{l(e=>({...e,projects:e.projects.map(n=>n.id===d?{...n,...c,updatedAt:new Date().toISOString()}:n)}))},[l]),o=m.useCallback(d=>{l(c=>({...c,projects:c.projects.filter(e=>e.id!==d),projectTasks:c.projectTasks.filter(e=>e.projectId!==d)}))},[l]),g=m.useCallback(d=>r.find(c=>c.id===d),[r]);return{projects:r,addProject:t,updateProject:s,deleteProject:o,getProjectById:g}},U=i=>{const{data:u,updateData:p}=v(),r=m.useMemo(()=>({...T(),...u.freelancing}),[u.freelancing]),l=r.projectTasks,t=i?l.filter(h=>h.projectId===i):l,s=m.useCallback(h=>{p({freelancing:h(r)})},[r,p]),o=m.useCallback(()=>{},[]),g=m.useCallback(h=>{const x={...h,id:crypto.randomUUID(),completed:!1,createdAt:new Date().toISOString()};return s(j=>({...j,projectTasks:[...j.projectTasks,x]})),x},[s]),d=m.useCallback((h,x)=>{s(j=>({...j,projectTasks:j.projectTasks.map(D=>D.id===h?{...D,...x}:D)}))},[s]),c=m.useCallback(h=>{s(x=>({...x,projectTasks:x.projectTasks.filter(j=>j.id!==h)}))},[s]),e=m.useCallback(h=>{s(x=>({...x,projectTasks:x.projectTasks.filter(j=>j.projectId!==h)}))},[s]),n=m.useCallback(h=>{s(x=>({...x,projectTasks:x.projectTasks.map(j=>j.id===h?{...j,completed:!j.completed,completedAt:j.completed?void 0:new Date().toISOString()}:j)}))},[s]);return{tasks:t,allTasks:l,addTask:g,updateTask:d,deleteTask:c,deleteTasksForProject:e,toggleTaskComplete:n,reloadTasks:o}},I=()=>{const{data:i,updateData:u}=v(),p=m.useMemo(()=>({...T(),...i.freelancing}),[i.freelancing]),r=p.standaloneTasks,l=m.useCallback(d=>{u({freelancing:d(p)})},[p,u]),t=m.useCallback(d=>{const c={...d,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return l(e=>({...e,standaloneTasks:[...e.standaloneTasks,c]})),c},[l]),s=m.useCallback((d,c)=>{l(e=>({...e,standaloneTasks:e.standaloneTasks.map(n=>n.id===d?{...n,...c}:n)}))},[l]),o=m.useCallback(d=>{l(c=>({...c,standaloneTasks:c.standaloneTasks.filter(e=>e.id!==d)}))},[l]),g=m.useCallback((d,c)=>{l(e=>({...e,standaloneTasks:e.standaloneTasks.map(n=>n.id===d?{...n,status:c,completedAt:c==="completed"?new Date().toISOString():void 0}:n)}))},[l]);return{tasks:r,addTask:t,updateTask:s,deleteTask:o,toggleTaskStatus:g}},M=i=>{const u=i.filter(o=>o.status==="todo"),p=i.filter(o=>o.status==="inProgress"),r=i.filter(o=>o.status==="done"),l=[...u,...p].reduce((o,g)=>o+g.expectedProfit,0),t=r.reduce((o,g)=>o+(g.actualProfit||g.expectedProfit),0),s=i.length>0?i.reduce((o,g)=>o+g.expectedProfit,0)/i.length:0;return{totalExpected:l,totalEarned:t,projectsToDoCount:u.length,projectsInProgressCount:p.length,completedProjectsCount:r.length,averageProjectValue:s}},O=i=>(console.warn("getTasksForProject is deprecated. Use useProjectTasks hook."),[]),$=i=>(console.warn("calculateProjectProgress is deprecated. Use calculateProjectProgressFromTasks."),0),L=i=>i>=9?"Urgent":i>=7?"High":i>=4?"Medium":"Low",q=i=>new Date(i)<new Date,B=i=>{const u=new Date,r=new Date(i).getTime()-u.getTime();return Math.ceil(r/(1e3*60*60*24))},R=(i,u)=>`${{USD:"$",EUR:"",GBP:"",CAD:"C$",AUD:"A$",JPY:"",CNY:""}[u]}${i.toLocaleString()}`,P=[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR (€)"},{value:"GBP",label:"GBP (£)"},{value:"CAD",label:"CAD (C$)"},{value:"AUD",label:"AUD (A$)"},{value:"JPY",label:"JPY (¥)"},{value:"CNY",label:"CNY (¥)"}],Y=({isOpen:i,onClose:u,onSave:p,project:r,mode:l})=>{const[t,s]=m.useState({name:r?.name||"",clientName:r?.clientName||"",description:r?.description||"",startDate:r?.startDate||"",deadline:r?.deadline||"",expectedProfit:r?.expectedProfit||0,currency:r?.currency||"USD",priority:r?.priority||5,tags:r?.tags?.join(", ")||""}),[o,g]=m.useState({}),d=()=>{const e={};return t.name.trim()||(e.name="Project name is required"),t.clientName.trim()||(e.clientName="Client name is required"),t.deadline||(e.deadline="Deadline is required"),t.expectedProfit<=0&&(e.expectedProfit="Expected profit must be greater than 0"),g(e),Object.keys(e).length===0},c=()=>{if(!d())return;const e=t.tags.split(",").map(n=>n.trim()).filter(n=>n.length>0);p({name:t.name,clientName:t.clientName,description:t.description,startDate:t.startDate||void 0,deadline:t.deadline,status:r?.status||"todo",expectedProfit:t.expectedProfit,actualProfit:r?.actualProfit,currency:t.currency,priority:t.priority,tags:e}),u()};return a.jsx(b,{isOpen:i,onClose:u,title:l==="create"?"Create New Project":"Edit Project",footer:a.jsxs(a.Fragment,{children:[a.jsx(k,{variant:"secondary",onClick:u,children:"Cancel"}),a.jsx(k,{variant:"default",onClick:c,children:l==="create"?"Create Project":"Save Changes"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(f,{label:"Project Name *",value:t.name,onChange:e=>s({...t,name:e.target.value}),placeholder:"Website Redesign",error:o.name}),a.jsx(f,{label:"Client Name *",value:t.clientName,onChange:e=>s({...t,clientName:e.target.value}),placeholder:"Acme Corporation",error:o.clientName}),a.jsx(y,{label:"Description",value:t.description,onChange:e=>s({...t,description:e.target.value}),placeholder:"Project details and requirements...",rows:3}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(f,{label:"Start Date",type:"date",value:t.startDate,onChange:e=>s({...t,startDate:e.target.value})}),a.jsx(f,{label:"Deadline *",type:"date",value:t.deadline,onChange:e=>s({...t,deadline:e.target.value}),error:o.deadline})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(f,{label:"Expected Profit *",type:"number",value:t.expectedProfit,onChange:e=>s({...t,expectedProfit:parseFloat(e.target.value)||0}),placeholder:"5000",error:o.expectedProfit}),a.jsx(C,{label:"Currency",value:t.currency,onChange:e=>s({...t,currency:e.target.value}),options:P})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority-slider",className:"block text-sm font-medium text-foreground mb-2",children:["Priority: ",t.priority,"/10"]}),a.jsx("input",{id:"priority-slider",type:"range",min:"1",max:"10",value:t.priority,onChange:e=>s({...t,priority:parseInt(e.target.value)}),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[a.jsx("span",{children:"Low"}),a.jsx("span",{children:"Medium"}),a.jsx("span",{children:"High"})]})]}),a.jsxs("div",{children:[a.jsx(f,{label:"Tags",value:t.tags,onChange:e=>s({...t,tags:e.target.value}),placeholder:"Web Development, Design, E-commerce"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Separate tags with commas"})]})]})})},H=({isOpen:i,onClose:u,onSave:p,task:r,projectId:l,mode:t})=>{const[s,o]=m.useState({title:r?.title||"",description:r?.description||"",dueDate:r?.dueDate||"",priority:r?.priority||5,timeEstimate:r?.timeEstimate||0}),[g,d]=m.useState({}),c=()=>{const n={};return s.title.trim()||(n.title="Task title is required"),d(n),Object.keys(n).length===0},e=()=>{c()&&(p({projectId:l,title:s.title,description:s.description||void 0,dueDate:s.dueDate||void 0,priority:s.priority,status:r?.status||"todo",timeEstimate:s.timeEstimate||void 0,completedAt:r?.completedAt}),u())};return a.jsx(b,{isOpen:i,onClose:u,title:t==="create"?"Add New Task":"Edit Task",footer:a.jsxs(a.Fragment,{children:[a.jsx(k,{variant:"secondary",onClick:u,children:"Cancel"}),a.jsx(k,{variant:"default",onClick:e,children:t==="create"?"Add Task":"Save Changes"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(f,{label:"Task Title *",value:s.title,onChange:n=>o({...s,title:n.target.value}),placeholder:"Design homepage mockup",error:g.title}),a.jsx(y,{label:"Description",value:s.description,onChange:n=>o({...s,description:n.target.value}),placeholder:"Task details and notes...",rows:3}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(f,{label:"Due Date",type:"date",value:s.dueDate,onChange:n=>o({...s,dueDate:n.target.value})}),a.jsx(f,{label:"Time Estimate (hours)",type:"number",value:s.timeEstimate,onChange:n=>o({...s,timeEstimate:parseFloat(n.target.value)||0}),placeholder:"2.5"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"task-priority-slider",className:"block text-sm font-medium text-foreground mb-2",children:["Priority: ",s.priority,"/10"]}),a.jsx("input",{id:"task-priority-slider",type:"range",min:"1",max:"10",value:s.priority,onChange:n=>o({...s,priority:parseInt(n.target.value)}),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[a.jsx("span",{children:"Low"}),a.jsx("span",{children:"Medium"}),a.jsx("span",{children:"High"})]})]})]})})},G=({isOpen:i,onClose:u,onSave:p,task:r,mode:l})=>{const[t,s]=m.useState({title:r?.title||"",description:r?.description||"",dueDate:r?.dueDate||"",priority:r?.priority||5,timeEstimate:r?.timeEstimate||0,tags:r?.tags?.join(", ")||""}),[o,g]=m.useState({}),d=()=>{const e={};return t.title.trim()||(e.title="Task title is required"),g(e),Object.keys(e).length===0},c=()=>{if(!d())return;const e=t.tags.split(",").map(n=>n.trim()).filter(n=>n.length>0);p({title:t.title,description:t.description||void 0,dueDate:t.dueDate||void 0,priority:t.priority,status:r?.status||"todo",tags:e,timeEstimate:t.timeEstimate||void 0,completedAt:r?.completedAt}),u()};return a.jsx(b,{isOpen:i,onClose:u,title:l==="create"?"Add New Task":"Edit Task",footer:a.jsxs(a.Fragment,{children:[a.jsx(k,{variant:"secondary",onClick:u,children:"Cancel"}),a.jsx(k,{variant:"default",onClick:c,children:l==="create"?"Add Task":"Save Changes"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(f,{label:"Task Title *",value:t.title,onChange:e=>s({...t,title:e.target.value}),placeholder:"Update portfolio website",error:o.title}),a.jsx(y,{label:"Description",value:t.description,onChange:e=>s({...t,description:e.target.value}),placeholder:"Task details and notes...",rows:3}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(f,{label:"Due Date",type:"date",value:t.dueDate,onChange:e=>s({...t,dueDate:e.target.value})}),a.jsx(f,{label:"Time Estimate (hours)",type:"number",value:t.timeEstimate,onChange:e=>s({...t,timeEstimate:parseFloat(e.target.value)||0}),placeholder:"2.5"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"standalone-task-priority-slider",className:"block text-sm font-medium text-foreground mb-2",children:["Priority: ",t.priority,"/10"]}),a.jsx("input",{id:"standalone-task-priority-slider",type:"range",min:"1",max:"10",value:t.priority,onChange:e=>s({...t,priority:parseInt(e.target.value)}),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[a.jsx("span",{children:"Low"}),a.jsx("span",{children:"Medium"}),a.jsx("span",{children:"High"})]})]}),a.jsxs("div",{children:[a.jsx(f,{label:"Tags",value:t.tags,onChange:e=>s({...t,tags:e.target.value}),placeholder:"Admin, Marketing, Learning"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Separate tags with commas"})]})]})})};export{Y as P,G as S,L as a,B as b,$ as c,I as d,M as e,R as f,O as g,U as h,q as i,H as j,F as u};
