import{j as e}from"./radix-ui-C3V2uSY1.js";import{r as g,u as oe}from"./router-BQf8R6iK.js";import{C as h,a as j,b as k,c as D,d as J}from"./Card-B1RPKrwx.js";import{a as Ne,G as ee,B as A,u as ce,g as M,p as ye,q as be,s as se,t as U,v as we,w as te,j as N,x as ke}from"./index-xR7wiZ90.js";import{P}from"./progress-CzWuDUNG.js";import{T as De,a as Pe,b as $,c as R}from"./tabs-B33s5US1.js";import{c as ae,X as K,l as Ce,m as Te,n as Se,i as Ee,W as G,a as B,A as L,o as de,p as Me,q as Ie,r as Q,G as ne,s as H,t as O,u as q,Z as V,g as W,B as Ae,h as Ue,v as re}from"./utils-MsfPC-Eo.js";import"./react-vendor-pR2cKLDH.js";import"./charts-5ZM4_dsB.js";import"./dnd-kit-VvYmaRfD.js";const ie="lifeos_login_banner_dismissed",le="lifeos_login_banner_never_show",Fe=({variant:r="full",className:f=""})=>{const{isAuthenticated:C,isLoading:u}=Ne(),[n,d]=g.useState(!1),[y,T]=g.useState(!1);if(g.useEffect(()=>{const a=sessionStorage.getItem(ie),E=localStorage.getItem(le);a==="true"&&d(!0),E==="true"&&T(!0)},[]),C||u||n||y)return null;const x=()=>{sessionStorage.setItem(ie,"true"),d(!0)},p=()=>{localStorage.setItem(le,"true"),T(!0)},S=[{icon:ae,title:"Cloud Sync",description:"Access your data from anywhere"},{icon:Te,title:"Secure Backup",description:"Never lose your data"},{icon:Se,title:"Multi-Device",description:"Sync across all devices"}];return r==="compact"?e.jsx(h,{className:`p-4 bg-primary/5 border-primary/20 ${f}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(ae,{className:"text-primary",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Sign in to sync your data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your data safe with Google Drive backup"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{}),e.jsx(A,{variant:"ghost",size:"sm",onClick:x,className:"text-muted-foreground hover:text-foreground",children:e.jsx(K,{size:16})})]})]})}):e.jsxs(h,{className:`p-6 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 border-primary/20 ${f}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:e.jsx(Ce,{className:"text-primary",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Unlock Cloud Features"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with Google to enable cloud sync and backup"})]})]}),e.jsx(A,{variant:"ghost",size:"sm",onClick:x,className:"text-muted-foreground hover:text-foreground -mt-2 -mr-2",children:e.jsx(K,{size:18})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:S.map(a=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/50 rounded-lg border border-border/50",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0",children:e.jsx(a.icon,{className:"text-primary",size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground text-sm",children:a.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.title))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:p,className:"text-muted-foreground text-xs",children:"Don't show again"}),e.jsx(ee,{})]})]})},$e=({onDismiss:r})=>{const[f,C]=g.useState(!1),u=g.useRef(null);g.useEffect(()=>{const d=y=>{u.current&&!u.current.contains(y.target)&&C(!1)};return f&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[f]);const n=d=>{r(d),C(!1)};return e.jsxs("div",{className:"relative",ref:u,children:[e.jsxs("button",{onClick:d=>{d.stopPropagation(),C(!f)},className:"p-2 text-muted-foreground hover:text-destructive hover:bg-accent rounded-lg transition-colors duration-200 flex items-center gap-1",title:"Dismiss options","aria-label":"Dismiss options",children:[e.jsx(K,{size:20}),e.jsx(Ee,{size:14})]}),f&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-popover border border-border rounded-lg shadow-2xl z-50 overflow-hidden",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:d=>{d.stopPropagation(),n("session")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For this session"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again when you reopen"})]}),e.jsxs("button",{onClick:d=>{d.stopPropagation(),n("day")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 day"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 24 hours"})]}),e.jsxs("button",{onClick:d=>{d.stopPropagation(),n("week")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 week"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 7 days"})]}),e.jsx("div",{className:"border-t border-border my-1"}),e.jsxs("button",{onClick:d=>{d.stopPropagation(),n("never")},className:"w-full px-4 py-2 text-left text-sm text-destructive hover:bg-destructive/10 transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"Never show again"}),e.jsx("div",{className:"text-xs text-destructive/80",children:"Permanently hide this notification"})]})]})})]})};function Re({compact:r=!1}){const f=oe(),{data:C}=ce(),u=g.useMemo(()=>C.finance||{incomes:[],expenses:[],installments:[],goals:[],settings:{defaultCurrency:"EGP"}},[C.finance]),n=g.useMemo(()=>{const y=new Date,T=y.getMonth(),x=y.getFullYear(),p=u.incomes?.filter(i=>{const c=new Date(i.actualDate||i.expectedDate||i.createdAt);return c.getMonth()===T&&c.getFullYear()===x})||[],S=u.expenses?.filter(i=>{const c=new Date(i.date);return c.getMonth()===T&&c.getFullYear()===x})||[],a=p.reduce((i,c)=>i+c.amount,0),E=S.reduce((i,c)=>i+c.amount,0),z=a-E,I=a>0?(a-E)/a*100:0,s=u.installments?.filter(i=>i.status==="active").length||0,t=u.installments?.filter(i=>{if(i.status!=="active")return!1;const c=new Date(i.nextPaymentDate),b=Math.ceil((c.getTime()-y.getTime())/(1e3*60*60*24));return b>=0&&b<=7}).length||0,m=u.goals?.filter(i=>i.status==="active").length||0,o=u.goals?.filter(i=>i.status==="active").reduce((i,c)=>{const b=c.targetAmount>0?c.currentAmount/c.targetAmount*100:0;return i+b},0)/Math.max(1,m);return{totalIncome:a,totalExpenses:E,balance:z,savingsRate:I,activeInstallments:s,upcomingPayments:t,activeGoals:m,goalProgress:o}},[u]),d=y=>{const T=u.settings?.defaultCurrency||"EGP",x={EGP:"Ø¬.Ù…",USD:"$",EUR:"â‚¬",GBP:"Â£",SAR:"Ø±.Ø³",AED:"Ø¯.Ø¥"};return`${y.toLocaleString("ar-EG")} ${x[T]||T}`};return r?e.jsx(h,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>f("/finance"),children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600",children:e.jsx(G,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Finance"}),e.jsxs("p",{className:M("text-lg font-bold",n.balance>=0?"text-green-600":"text-red-600"),children:[n.balance>=0?"+":"",d(n.balance)]})]}),n.upcomingPayments>0&&e.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:n.upcomingPayments})]}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]})})}):e.jsxs(h,{children:[e.jsx(k,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(D,{className:"text-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-primary"}),"Ø§Ù„Ù…Ø§Ù„ÙŠØ© - Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"]}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>f("/finance"),children:["Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„",e.jsx(L,{className:"h-4 w-4 mr-1"})]})]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-600 mb-1",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„Ø¯Ø®Ù„"})]}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:d(n.totalIncome)})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1 text-red-600 mb-1",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª"})]}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:d(n.totalExpenses)})]}),e.jsxs("div",{className:M("p-3 rounded-lg border",n.balance>=0?"bg-blue-500/10 border-blue-500/20":"bg-orange-500/10 border-orange-500/20"),children:[e.jsxs("div",{className:M("flex items-center gap-1 mb-1",n.balance>=0?"text-blue-600":"text-orange-600"),children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„ØµØ§ÙÙŠ"})]}),e.jsxs("p",{className:M("text-lg font-bold",n.balance>=0?"text-blue-600":"text-orange-600"),children:[n.balance>=0?"+":"",d(n.balance)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Ø§Ù„Ø£Ù‚Ø³Ø§Ø· Ø§Ù„Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:n.activeInstallments}),n.upcomingPayments>0&&e.jsxs("span",{className:"text-xs text-orange-500 flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),n.upcomingPayments," Ù‚Ø§Ø¯Ù…Ø©"]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:n.activeGoals}),n.activeGoals>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.goalProgress.toFixed(0),"% Ù…ØªÙˆØ³Ø·"]})]}),n.activeGoals>0&&e.jsx(P,{value:n.goalProgress,className:"h-1 mt-2"})]})]}),n.totalIncome>0&&e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-green-500/10 to-blue-500/10 border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ø¯Ø®Ø§Ø±"}),e.jsxs("span",{className:M("text-lg font-bold",n.savingsRate>=20?"text-green-600":n.savingsRate>=10?"text-blue-600":n.savingsRate>=0?"text-yellow-600":"text-red-600"),children:[n.savingsRate.toFixed(0),"%"]})]}),e.jsx(P,{value:Math.max(0,Math.min(100,n.savingsRate)),className:"h-2 mt-2"})]})]})]})}const We=()=>{const{data:r,dismissedNotifications:f,dismissNotification:C,neverShowAgain:u}=ce(),n=oe(),d=ye(),y=g.useMemo(()=>be(),[]),T=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),x=g.useMemo(()=>r.programming||{learningItems:[],skills:[],tools:[],projects:[]},[r.programming]),p=g.useMemo(()=>r.freelancing?.projects||[],[r.freelancing]),S=g.useMemo(()=>r.finance||{incomes:[],expenses:[],installments:[],goals:[]},[r.finance]),a=g.useMemo(()=>{const s=r.university.tasks.filter(l=>l.status==="done").length,t=r.university.tasks.length,m=t-s,o=r.university.tasks.filter(l=>l.status!=="done"&&l.dueDate&&se(l.dueDate)).length,i=r.university.exams.filter(l=>{const F=U(l.date);return F>=0&&F<=7}).length,c=p.filter(l=>l.status==="in-progress"||l.status==="todo").length,b=p.filter(l=>l.status==="completed"||l.status==="done").length,Y=p.filter(l=>l.status==="completed"||l.status==="done").reduce((l,F)=>l+(F.expectedProfit||0),0),_=r.freelancing.applications.filter(l=>l.status==="applied"||l.status==="interested").length,v=(x.learningItems?.filter(l=>l.status==="in-progress"||l.status==="to-start").length||0)+(x.projects?.filter(l=>l.status==="in-progress"||l.status==="to-do").length||0),w=x.learningItems?.filter(l=>l.status==="completed").length||0,me=x.projects?.filter(l=>l.status==="in-progress"||l.status==="to-do").length||0,xe=x.skills?.length||0,X=r.home.tasks.filter(l=>l.status!=="done").length,ue=r.home.goals.filter(l=>l.progress<100).length,he=r.home.habits.filter(l=>l.streak>0).length,ge=r.misc.notes.length,pe=r.misc.bookmarks.length,je=r.misc.quickCaptures.length,Z=t+X,fe=s,ve=Z>0?Math.round(fe/Z*100):0;return{universityTasksCompleted:s,universityTasksTotal:t,universityTasksActive:m,todayTasks:o,upcomingExams:i,activeProjects:c,completedProjects:b,totalRevenue:Y,pendingApplications:_,learningInProgress:v,learningCompleted:w,programmingProjects:me,totalSkills:xe,homeTasksActive:X,activeGoals:ue,activeHabits:he,totalNotes:ge,totalBookmarks:pe,quickCaptures:je,completionRate:ve}},[r,x,p]),E=g.useMemo(()=>{const s=new Date,t=s.getMonth(),m=s.getFullYear(),o=S.expenses?.filter(v=>{const w=new Date(v.date);return w.getMonth()===t&&w.getFullYear()===m})||[],i=S.incomes?.filter(v=>{const w=new Date(v.actualDate||v.expectedDate||v.createdAt);return w.getMonth()===t&&w.getFullYear()===m})||[],c=o.reduce((v,w)=>v+w.amount,0),b=i.reduce((v,w)=>v+w.amount,0),Y=b-c,_=S.installments?.filter(v=>v.status==="active").length||0;return{totalExpenses:c,totalIncome:b,balance:Y,activeInstallments:_}},[S]),z=[{id:"university",name:"University",icon:ne,description:"Manage courses, tasks & exams",color:"from-purple-500 to-violet-600",stats:{label:"Active Tasks",value:r.university.tasks.filter(s=>s.status!=="done").length},path:"/university"},{id:"freelancing",name:"Freelancing",icon:H,description:"Track projects & clients",color:"from-blue-500 to-cyan-600",stats:{label:"Active Projects",value:a.activeProjects},path:"/freelancing"},{id:"programming",name:"Programming",icon:O,description:"Learn & build projects",color:"from-green-500 to-emerald-600",stats:{label:"In Progress",value:a.learningInProgress},path:"/programming"},{id:"home",name:"Home & Life",icon:q,description:"Personal goals & tasks",color:"from-orange-500 to-red-600",stats:{label:"Tasks",value:r.home.tasks.filter(s=>s.status!=="done").length},path:"/home"},{id:"finance",name:"Finance",icon:G,description:"Track income & expenses",color:"from-emerald-500 to-teal-600",stats:{label:"This Month",value:`${E.balance>=0?"+":""}${E.balance.toLocaleString()}`},path:"/finance"}],I=g.useMemo(()=>{const s=[];r.university.tasks.filter(o=>o.priority===10&&o.status!=="done").forEach(o=>{const i=r.university.subjects.find(c=>c.id===o.subjectId);if(o.dueDate){const c=U(o.dueDate);c<=3&&s.push({id:`p10-date-${o.id}`,type:"priority10-approaching",title:c<0?"âš ï¸ OVERDUE Priority 10!":`ðŸ”¥ Priority 10 Due ${c===0?"TODAY":`in ${c} day(s)`}`,message:`${o.title} (${i?.name||"Unknown"})`,icon:V,action:()=>n("/university")})}else s.push({id:`p10-${o.id}`,type:"priority10",title:"ðŸš¨ Priority 10 Task!",message:`${o.title} (${i?.name||"Unknown"})`,icon:V,action:()=>n("/university")})}),r.university.exams.forEach(o=>{const i=U(o.date),c=r.university.subjects.find(b=>b.id===o.subjectId);se(o.date)?s.push({id:`exam-today-${o.id}`,type:"exam-today",title:"ðŸ“š EXAM TODAY!",message:`${o.title} (${c?.name||"Unknown"})`,icon:B,action:()=>n("/university")}):we(o.date)?s.push({id:`exam-tomorrow-${o.id}`,type:"exam-tomorrow",title:"âš ï¸ Exam Tomorrow!",message:`${o.title} (${c?.name||"Unknown"})`,icon:W,action:()=>n("/university")}):i===2&&s.push({id:`exam-day-after-${o.id}`,type:"exam-day-after",title:"ðŸ“… Exam in 2 Days",message:`${o.title} (${c?.name||"Unknown"})`,icon:W,action:()=>n("/university")})});const m=new Date;return s.filter(o=>{if(u.includes(o.id))return!1;const i=f.find(c=>c.id===o.id);return!(i&&(!i.dismissUntil||new Date(i.dismissUntil)>m))})},[r,f,u,n]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:[d,", ",r.settings.userName||"there","! ðŸ‘‹"]}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:[te(new Date)," â€¢ ",T]})]}),I.length>0&&e.jsxs(N,{variant:"destructive",className:"text-base px-4 py-2 animate-pulse",children:[e.jsx(Ae,{className:"mr-2 h-4 w-4"}),I.length," Urgent"]})]}),e.jsxs("p",{className:"text-lg text-muted-foreground italic",children:['"',y,'"']})]}),e.jsx(ke,{}),e.jsx(Fe,{}),I.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(B,{className:"h-6 w-6 text-destructive"}),"Urgent Notifications"]}),e.jsx("div",{className:"grid gap-4",children:I.map(s=>e.jsx(h,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-all",onClick:s.action,children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-3 rounded-lg bg-destructive/10",children:e.jsx(s.icon,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:s.message})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:"sm",onClick:t=>{t.stopPropagation(),s.action()},children:"View"}),e.jsx($e,{onDismiss:t=>{C(s.id,t)}})]})]})})},s.id))})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/university"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"University Tasks"}),e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.universityTasksCompleted,"/",a.universityTasksTotal]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.completionRate,"% completion rate"]}),e.jsx(P,{value:a.completionRate,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/university"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Due Today"}),e.jsx(Ue,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.todayTasks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.todayTasks===0?"All clear! ðŸŽ‰":"Focus on these first"}),a.upcomingExams>0&&e.jsxs("p",{className:"text-xs text-destructive mt-1",children:[a.upcomingExams," exam(s) this week"]}),e.jsx(P,{value:a.todayTasks>0?100:0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/freelancing"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Freelancing Tasks"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.activeProjects}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active projects"}),a.totalRevenue>0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["$",a.totalRevenue.toLocaleString()," earned"]}),e.jsx(P,{value:a.completedProjects>0?Math.round(a.completedProjects/(a.activeProjects+a.completedProjects)*100):0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/programming"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Learning"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.learningInProgress}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resources in progress"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.programmingProjects," active projects"]}),e.jsx(P,{value:a.learningCompleted>0?Math.round(a.learningCompleted/(a.learningInProgress+a.learningCompleted)*100):0,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/home"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Home & Life"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.homeTasksActive}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tasks"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[a.activeGoals," goals"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[a.activeHabits," habits"]})]}),e.jsx(P,{value:a.activeGoals>0?50:0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/programming"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Skills & Tech"}),e.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.totalSkills}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Skills tracked"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.learningCompleted," resources completed"]}),e.jsx(P,{value:a.totalSkills>0?Math.min(a.totalSkills/10*100,100):0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/freelancing"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Freelancing Projects"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total projects"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.completedProjects," completed â€¢"," ",a.activeProjects," active"]}),e.jsx(P,{value:p.length>0?Math.round(a.completedProjects/p.length*100):0,className:"mt-2"})]})]}),e.jsxs(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n("/misc"),children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx(re,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.totalNotes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes saved"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[a.totalBookmarks," bookmarks"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[a.quickCaptures," captures"]})]}),e.jsx(P,{value:a.totalNotes>0?Math.min(a.totalNotes/20*100,100):0,className:"mt-2"})]})]})]}),(()=>{const s=[...r.university.tasks.filter(t=>t.status!=="done"&&t.dueDate).map(t=>({id:t.id,title:t.title,type:"Task",module:"University",date:t.dueDate,priority:t.priority,color:"from-purple-500 to-violet-600",status:t.status})),...r.university.exams.filter(t=>!t.taken).map(t=>{const m=r.university.subjects.find(o=>o.id===t.subjectId);return{id:t.id,title:t.title,type:"Exam",module:m?.name||"University",date:t.date,priority:10,color:"from-purple-500 to-violet-600",status:"upcoming"}}),...p.filter(t=>t.status!=="completed"&&t.status!=="done"&&t.deadline).map(t=>({id:t.id,title:t.name,type:"Project",module:"Freelancing",date:t.deadline,priority:t.priority||8,color:"from-blue-500 to-cyan-600",status:t.status})),...r.home.goals.filter(t=>t.targetDate&&t.progress<100).map(t=>({id:t.id,title:t.title,type:"Goal",module:"Home",date:t.targetDate,priority:5,color:"from-orange-500 to-red-600",status:"active"}))].filter(t=>U(t.date)>=-7).sort((t,m)=>new Date(t.date).getTime()-new Date(m.date).getTime()).slice(0,6);return s.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(W,{className:"h-6 w-6"}),"Upcoming Deadlines"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:s.map(t=>{const m=U(t.date),o=m<=2,i=m<0;return e.jsx(h,{className:M("hover:shadow-md transition-shadow",i&&"border-l-4 border-l-destructive",o&&!i&&"border-l-4 border-l-warning"),children:e.jsx(j,{className:"pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium line-clamp-1",children:t.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.type," â€¢"," ",t.module]})]}),e.jsxs(N,{variant:t.priority>=8?"destructive":t.priority>=5?"default":"secondary",className:"text-xs",children:["P",t.priority]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:te(new Date(t.date))}),e.jsx(N,{variant:i?"destructive":o?"default":"outline",children:i?`${Math.abs(m)} day(s) overdue`:m===0?"Today":m===1?"Tomorrow":`${m} days`})]})]})})},t.id)})})]}):null})(),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(Q,{className:"h-6 w-6"}),"Your Modules"]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:z.map(s=>e.jsxs(h,{className:"group cursor-pointer hover:shadow-lg transition-all duration-300 overflow-hidden",onClick:()=>n(s.path),children:[e.jsx("div",{className:M("h-2 bg-gradient-to-r",s.color)}),e.jsxs(k,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:M("p-3 rounded-lg bg-gradient-to-br",s.color,"shadow-lg"),children:e.jsx(s.icon,{className:"h-6 w-6 text-white"})}),e.jsx(L,{className:"h-5 w-5 text-muted-foreground group-hover:translate-x-1 transition-transform"})]}),e.jsx(D,{children:s.name}),e.jsx(J,{children:s.description})]}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s.stats.label}),e.jsx(N,{variant:"secondary",children:s.stats.value})]})})]},s.id))})]}),e.jsx(Re,{}),e.jsxs(h,{children:[e.jsxs(k,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5"}),"Recent Activity"]}),e.jsx(J,{children:"Quick overview of your latest tasks and projects"})]}),e.jsx(j,{children:e.jsxs(De,{defaultValue:"university",className:"w-full",children:[e.jsxs(Pe,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[e.jsxs($,{value:"university",children:[e.jsx("span",{className:"hidden sm:inline",children:"University"}),e.jsx("span",{className:"sm:hidden",children:"Uni"})]}),e.jsxs($,{value:"freelancing",children:[e.jsx("span",{className:"hidden sm:inline",children:"Freelancing"}),e.jsx("span",{className:"sm:hidden",children:"Free"})]}),e.jsxs($,{value:"programming",children:[e.jsx("span",{className:"hidden sm:inline",children:"Programming"}),e.jsx("span",{className:"sm:hidden",children:"Code"})]}),e.jsxs($,{value:"home",children:[e.jsx("span",{className:"hidden sm:inline",children:"Home & Life"}),e.jsx("span",{className:"sm:hidden",children:"Home"})]})]}),e.jsxs(R,{value:"university",className:"space-y-4 mt-4",children:[r.university.tasks.slice(0,5).length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(re,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No tasks yet"})]}):r.university.tasks.slice(0,5).map(s=>{const t=r.university.subjects.find(m=>m.id===s.subjectId);return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:s.priority>=8?"destructive":s.priority>=5?"default":"secondary",children:["P",s.priority]}),e.jsx(N,{variant:s.status==="done"?"secondary":"outline",children:s.status})]})]},s.id)}),r.university.tasks.length>5&&e.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>n("/university"),children:["View All Tasks",e.jsx(L,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(R,{value:"freelancing",className:"space-y-4 mt-4",children:p.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No projects yet"})]}):p.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.clientName||s.client||"No client"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"outline",children:s.status}),s.expectedProfit&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",s.expectedProfit]})]})]},s.id))}),e.jsx(R,{value:"programming",className:"space-y-4 mt-4",children:(x.learningItems?.length||0)===0&&(x.projects?.length||0)===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(O,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No learning resources yet"})]}):e.jsxs(e.Fragment,{children:[x.learningItems?.length>0&&e.jsx(e.Fragment,{children:x.learningItems.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.type})]}),e.jsx(N,{variant:s.status==="completed"?"secondary":"outline",children:s.status})]},s.id))}),x.projects?.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-4",children:"Active Projects"}),x.projects.filter(s=>s.status==="in-progress").slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:s.description||"No description"})]}),e.jsx(N,{variant:"default",children:s.status})]},s.id))]})]})}),e.jsx(R,{value:"home",className:"space-y-4 mt-4",children:r.home.tasks.length===0&&r.home.goals.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(q,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No tasks or goals yet"})]}):e.jsxs(e.Fragment,{children:[r.home.tasks.slice(0,5).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Home Tasks"}),r.home.tasks.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",children:s.priority}),e.jsx(N,{variant:s.status==="done"?"secondary":"outline",children:s.status})]})]},s.id))]}),r.home.goals.slice(0,3).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-4",children:"Personal Goals"}),r.home.goals.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"outline",children:[s.progress,"%"]}),e.jsx(P,{value:s.progress,className:"w-16 h-2"})]})]},s.id))]})]})})]})})]})]})};export{We as Dashboard};
