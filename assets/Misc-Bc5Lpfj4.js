import{j as e}from"./radix-ui-CkGECzuE.js";import{r as m}from"./router-CLckEVPx.js";import{C as v,b as k,c as C,a as y}from"./Card-4FVo8xr3.js";import{u as S,M as F,d as o,B as w,I as ne,f as D}from"./index-C1qMWjzx.js";import{T as ce,a as ie,b as B,c as q}from"./tabs-JhXcEEFa.js";import{a as I,T as z,F as $}from"./TextArea-XtBVAueP.js";import{X as H,Q as oe,ab as L,ac as A,ad as de,q as me,P as M,t as E,u as O,ae as ue,o as xe,_ as he,n as ge,y as pe}from"./utils-Cuc1pixd.js";import"./react-vendor-pR2cKLDH.js";import"./charts-usVtCYFM.js";const je=({isOpen:r,onClose:u,note:a})=>{const{data:x,updateData:f,showToast:n}=S(),[l,d]=m.useState({title:"",content:"",tags:[],newTag:""});m.useEffect(()=>{d(a?{title:a.title,content:a.content,tags:a.tags,newTag:""}:{title:"",content:"",tags:[],newTag:""})},[a,r]);const g=t=>{const{name:i,value:h}=t.target;d(b=>({...b,[i]:h}))},N=()=>{l.newTag.trim()&&!l.tags.includes(l.newTag.trim())&&d(t=>({...t,tags:[...t.tags,t.newTag.trim()],newTag:""}))},j=t=>{d(i=>({...i,tags:i.tags.filter(h=>h!==t)}))},p=t=>{if(t.preventDefault(),!l.title.trim()){n("Please enter a note title","error");return}const i={id:a?.id||`note-${Date.now()}`,title:l.title.trim(),content:l.content.trim(),tags:l.tags,createdAt:a?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};a?(f({misc:{...x.misc,notes:x.misc.notes.map(h=>h.id===a.id?i:h)}}),n("Note updated successfully!","success")):(f({misc:{...x.misc,notes:[...x.misc.notes,i]}}),n("Note added successfully!","success")),u()};return e.jsx(F,{isOpen:r,onClose:u,title:a?"Edit Note":"Add Note",footer:e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"secondary",onClick:u,children:"Cancel"}),e.jsxs(o,{variant:"default",onClick:p,children:[a?"Update":"Add"," Note"]})]}),children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx(I,{label:"Note Title *",name:"title",value:l.title,onChange:g,placeholder:"e.g., Meeting notes",required:!0}),e.jsx(z,{label:"Content",name:"content",value:l.content,onChange:g,placeholder:"Write your note here...",rows:6}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"newTag",value:l.newTag,onChange:g,placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border rounded-md",onKeyPress:t=>{t.key==="Enter"&&(t.preventDefault(),N())}}),e.jsx(o,{type:"button",variant:"secondary",onClick:N,children:"Add"})]}),l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.tags.map(t=>e.jsxs(w,{variant:"secondary",className:"flex items-center gap-1",children:[t,e.jsx("button",{type:"button",onClick:()=>j(t),className:"ml-1 hover:text-destructive",children:e.jsx(H,{className:"w-3 h-3"})})]},t))})]})]})})},fe=({isOpen:r,onClose:u,bookmark:a})=>{const{data:x,updateData:f,showToast:n}=S(),[l,d]=m.useState({title:"",url:"",category:"personal",tags:[],newTag:""});m.useEffect(()=>{d(a?{title:a.title,url:a.url,category:a.category,tags:a.tags,newTag:""}:{title:"",url:"",category:"personal",tags:[],newTag:""})},[a,r]);const g=t=>{const{name:i,value:h}=t.target;d(b=>({...b,[i]:h}))},N=()=>{l.newTag.trim()&&!l.tags.includes(l.newTag.trim())&&d(t=>({...t,tags:[...t.tags,t.newTag.trim()],newTag:""}))},j=t=>{d(i=>({...i,tags:i.tags.filter(h=>h!==t)}))},p=t=>{if(t.preventDefault(),!l.title.trim()||!l.url.trim()){n("Please enter title and URL","error");return}const i={id:a?.id||`bookmark-${Date.now()}`,title:l.title.trim(),url:l.url.trim(),category:l.category,tags:l.tags,createdAt:a?.createdAt||new Date().toISOString()};a?(f({misc:{...x.misc,bookmarks:x.misc.bookmarks.map(h=>h.id===a.id?i:h)}}),n("Bookmark updated successfully!","success")):(f({misc:{...x.misc,bookmarks:[...x.misc.bookmarks,i]}}),n("Bookmark added successfully!","success")),u()};return e.jsx(F,{isOpen:r,onClose:u,title:a?"Edit Bookmark":"Add Bookmark",footer:e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"secondary",onClick:u,children:"Cancel"}),e.jsxs(o,{variant:"default",onClick:p,children:[a?"Update":"Add"," Bookmark"]})]}),children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx(I,{label:"Bookmark Title *",name:"title",value:l.title,onChange:g,placeholder:"e.g., React Documentation",required:!0}),e.jsx(I,{label:"URL *",name:"url",type:"url",value:l.url,onChange:g,placeholder:"https://example.com",required:!0}),e.jsx($,{label:"Category",name:"category",value:l.category,onChange:g,options:[{value:"work",label:"Work"},{value:"personal",label:"Personal"},{value:"learning",label:"Learning"},{value:"reference",label:"Reference"},{value:"inspiration",label:"Inspiration"},{value:"tools",label:"Tools"}]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"newTag",value:l.newTag,onChange:g,placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border rounded-md",onKeyPress:t=>{t.key==="Enter"&&(t.preventDefault(),N())}}),e.jsx(o,{type:"button",variant:"secondary",onClick:N,children:"Add"})]}),l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.tags.map(t=>e.jsxs(w,{variant:"secondary",className:"flex items-center gap-1",children:[t,e.jsx("button",{type:"button",onClick:()=>j(t),className:"ml-1 hover:text-destructive",children:e.jsx(H,{className:"w-3 h-3"})})]},t))})]})]})})},Ne=({isOpen:r,onClose:u,capture:a})=>{const{data:x,updateData:f,showToast:n}=S(),[l,d]=m.useState({content:"",module:"",processed:!1});m.useEffect(()=>{d(a?{content:a.content,module:a.module||"",processed:a.processed}:{content:"",module:"",processed:!1})},[a,r]);const g=j=>{const{name:p,value:t}=j.target;d(i=>({...i,[p]:t}))},N=j=>{if(j.preventDefault(),!l.content.trim()){n("Please enter content","error");return}const p={id:a?.id||`capture-${Date.now()}`,content:l.content.trim(),module:l.module||void 0,processed:l.processed,createdAt:a?.createdAt||new Date().toISOString()};a?(f({misc:{...x.misc,quickCaptures:x.misc.quickCaptures.map(t=>t.id===a.id?p:t)}}),n("Capture updated successfully!","success")):(f({misc:{...x.misc,quickCaptures:[...x.misc.quickCaptures,p]}}),n("Capture added successfully!","success")),u()};return e.jsx(F,{isOpen:r,onClose:u,title:a?"Edit Quick Capture":"Quick Capture",footer:e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"secondary",onClick:u,children:"Cancel"}),e.jsx(o,{variant:"default",onClick:N,children:a?"Update":"Capture"})]}),children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsx(z,{label:"Content *",name:"content",value:l.content,onChange:g,placeholder:"Quickly capture your thought or idea...",rows:4,required:!0}),e.jsx($,{label:"Related Module (Optional)",name:"module",value:l.module,onChange:g,options:[{value:"",label:"None"},{value:"university",label:"University"},{value:"freelancing",label:"Freelancing"},{value:"programming",label:"Programming"},{value:"home",label:"Home"},{value:"misc",label:"Miscellaneous"}]})]})})},De=()=>{const{data:r,updateData:u,showToast:a}=S(),[x,f]=m.useState("notes"),[n,l]=m.useState(""),[d,g]=m.useState(!1),[N,j]=m.useState(!1),[p,t]=m.useState(!1),[i,h]=m.useState(void 0),[b,P]=m.useState(void 0),[K,Q]=m.useState(void 0),T=m.useMemo(()=>{const s=r.misc.notes.length,c=r.misc.bookmarks.length,ae=r.misc.quickCaptures.length,le=r.misc.quickCaptures.filter(re=>!re.processed).length;return{totalNotes:s,totalBookmarks:c,totalCaptures:ae,unprocessedCaptures:le}},[r.misc]),R=m.useMemo(()=>n?r.misc.notes.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())||s.content.toLowerCase().includes(n.toLowerCase())||s.tags.some(c=>c.toLowerCase().includes(n.toLowerCase()))):r.misc.notes,[r.misc.notes,n]),U=m.useMemo(()=>n?r.misc.bookmarks.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())||s.category.toLowerCase().includes(n.toLowerCase())||s.tags.some(c=>c.toLowerCase().includes(n.toLowerCase()))):r.misc.bookmarks,[r.misc.bookmarks,n]),W=()=>{h(void 0),g(!0)},_=s=>{h(s),g(!0)},V=s=>{confirm("Are you sure you want to delete this note?")&&(u({misc:{...r.misc,notes:r.misc.notes.filter(c=>c.id!==s)}}),a("Note deleted successfully","success"))},X=()=>{P(void 0),j(!0)},G=s=>{P(s),j(!0)},J=s=>{confirm("Are you sure you want to delete this bookmark?")&&(u({misc:{...r.misc,bookmarks:r.misc.bookmarks.filter(c=>c.id!==s)}}),a("Bookmark deleted successfully","success"))},Y=()=>{Q(void 0),t(!0)},Z=s=>{Q(s),t(!0)},ee=s=>{confirm("Are you sure you want to delete this capture?")&&(u({misc:{...r.misc,quickCaptures:r.misc.quickCaptures.filter(c=>c.id!==s)}}),a("Capture deleted successfully","success"))},se=s=>{u({misc:{...r.misc,quickCaptures:r.misc.quickCaptures.map(c=>c.id===s?{...c,processed:!0}:c)}}),a("Capture marked as processed","success")},te=s=>({work:"bg-blue-500/10 text-blue-500",personal:"bg-purple-500/10 text-purple-500",learning:"bg-green-500/10 text-green-500",reference:"bg-orange-500/10 text-orange-500",inspiration:"bg-pink-500/10 text-pink-500",tools:"bg-cyan-500/10 text-cyan-500"})[s.toLowerCase()]||"bg-gray-500/10 text-gray-500";return e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 gradient-text",children:"Miscellaneous"}),e.jsx("p",{className:"text-muted-foreground",children:"Notes, bookmarks, and quick captures for everything else"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.totalNotes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"notes saved"})]})]}),e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Bookmarks"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.totalBookmarks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"links bookmarked"})]})]}),e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Quick Captures"}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.totalCaptures}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"items captured"})]})]}),e.jsxs(v,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Inbox Items"}),e.jsx(A,{className:"h-4 w-4 text-orange-500"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.unprocessedCaptures}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"need processing"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(ne,{placeholder:"Search notes, bookmarks, and captures...",value:n,onChange:s=>l(s.target.value),className:"pl-10"})]}),e.jsxs(ce,{value:x,onValueChange:f,children:[e.jsxs(ie,{children:[e.jsxs(B,{value:"notes",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Notes"]}),e.jsxs(B,{value:"bookmarks",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Bookmarks"]}),e.jsxs(B,{value:"captures",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Quick Captures"]})]}),e.jsxs(q,{value:"notes",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(o,{onClick:W,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Add Note"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[R.map(s=>e.jsxs(v,{className:"group",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(C,{className:"text-lg",children:s.title}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>_(s),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>V(s.id),children:e.jsx(O,{className:"w-4 h-4"})})]})]})}),e.jsxs(y,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:s.content}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map(c=>e.jsxs(w,{variant:"secondary",children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),c]},c))}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(xe,{className:"w-3 h-3"}),"Updated ",D(s.updatedAt)]})]})]},s.id)),R.length===0&&e.jsx(v,{className:"col-span-full",children:e.jsx(y,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:n?"No notes found matching your search":"No notes yet. Create your first note!"})})})]})]}),e.jsxs(q,{value:"bookmarks",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(o,{onClick:X,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Add Bookmark"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[U.map(s=>e.jsxs(v,{className:"group",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs(C,{className:"text-lg flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),s.title]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>G(s),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>J(s.id),children:e.jsx(O,{className:"w-4 h-4"})})]})]})}),e.jsxs(y,{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(w,{className:te(s.category),children:s.category})}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map(c=>e.jsx(w,{variant:"outline",children:c},c))}),e.jsx(o,{variant:"outline",className:"w-full",asChild:!0,children:e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Open Link"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(ge,{className:"w-3 h-3"}),"Added ",D(s.createdAt)]})]})]},s.id)),U.length===0&&e.jsx(v,{className:"col-span-full",children:e.jsx(y,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:n?"No bookmarks found matching your search":"No bookmarks yet. Add your first bookmark!"})})})]})]}),e.jsxs(q,{value:"captures",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(o,{onClick:Y,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Quick Capture"]})}),e.jsxs("div",{className:"space-y-3",children:[r.misc.quickCaptures.map(s=>e.jsx(v,{className:s.processed?"opacity-60":"",children:e.jsx(y,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 cursor-pointer",onClick:()=>se(s.id),children:s.processed?e.jsx(pe,{className:"w-5 h-5 text-green-500"}):e.jsx(A,{className:"w-5 h-5 text-orange-500"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("p",{className:s.processed?"line-through":"",children:s.content}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.module&&e.jsx(w,{variant:"secondary",children:s.module}),e.jsx("span",{className:"text-xs text-muted-foreground",children:D(s.createdAt)})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>Z(s),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>ee(s.id),children:e.jsx(O,{className:"w-4 h-4"})})]})]})})},s.id)),r.misc.quickCaptures.length===0&&e.jsx(v,{children:e.jsx(y,{className:"py-12",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"No quick captures yet. Capture your first idea!"})})})]})]})]}),e.jsx(je,{isOpen:d,onClose:()=>g(!1),note:i}),e.jsx(fe,{isOpen:N,onClose:()=>j(!1),bookmark:b}),e.jsx(Ne,{isOpen:p,onClose:()=>t(!1),capture:K})]})};export{De as Misc};
