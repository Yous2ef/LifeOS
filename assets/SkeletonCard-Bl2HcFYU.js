import{j as e}from"./radix-ui-CneFSYrq.js";import{r as i}from"./router-CJK1Z2Io.js";import{M as A,i as T,a as $,P as W,b as D,c as H,L as K,m as U}from"./GlassCard-HXv5_UBv.js";import{c as N}from"./index-CO4gCy-A.js";function k(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function _(...t){return n=>{let s=!1;const a=t.map(o=>{const r=k(o,n);return!s&&typeof r=="function"&&(s=!0),r});if(s)return()=>{for(let o=0;o<a.length;o++){const r=a[o];typeof r=="function"?r():k(t[o],null)}}}}function B(...t){return i.useCallback(_(...t),t)}class F extends i.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=T(a)&&a.offsetWidth||0,r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft,r.right=o-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G({children:t,isPresent:n,anchorX:s,root:a}){const o=i.useId(),r=i.useRef(null),h=i.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:v}=i.useContext(A),w=B(r,t?.ref);return i.useInsertionEffect(()=>{const{width:d,height:j,top:l,left:m,right:f}=h.current;if(n||!r.current||!d||!j)return;const x=s==="left"?`left: ${m}`:`right: ${f}`;r.current.dataset.motionPopId=o;const c=document.createElement("style");v&&(c.nonce=v);const C=a??document.head;return C.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${j}px !important;
            ${x}px !important;
            top: ${l}px !important;
          }
        `),()=>{C.contains(c)&&C.removeChild(c)}},[n]),e.jsx(F,{isPresent:n,childRef:r,sizeRef:h,children:i.cloneElement(t,{ref:w})})}const V=({children:t,initial:n,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:r,mode:h,anchorX:v,root:w})=>{const d=$(X),j=i.useId();let l=!0,m=i.useMemo(()=>(l=!1,{id:j,initial:n,isPresent:s,custom:o,onExitComplete:f=>{d.set(f,!0);for(const x of d.values())if(!x)return;a&&a()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[s,d,a]);return r&&l&&(m={...m}),i.useMemo(()=>{d.forEach((f,x)=>d.set(x,!1))},[s]),i.useEffect(()=>{!s&&!d.size&&a&&a()},[s]),h==="popLayout"&&(t=e.jsx(G,{isPresent:s,anchorX:v,root:w,children:t})),e.jsx(W.Provider,{value:m,children:t})};function X(){return new Map}const y=t=>t.key||"";function L(t){const n=[];return i.Children.forEach(t,s=>{i.isValidElement(s)&&n.push(s)}),n}const Z=({children:t,custom:n,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:r="sync",propagate:h=!1,anchorX:v="left",root:w})=>{const[d,j]=D(h),l=i.useMemo(()=>L(t),[t]),m=h&&!d?[]:l.map(y),f=i.useRef(!0),x=i.useRef(l),c=$(()=>new Map),[C,I]=i.useState(l),[g,P]=i.useState(l);H(()=>{f.current=!1,x.current=l;for(let p=0;p<g.length;p++){const u=y(g[p]);m.includes(u)?c.delete(u):c.get(u)!==!0&&c.set(u,!1)}},[g,m.length,m.join("-")]);const R=[];if(l!==C){let p=[...l];for(let u=0;u<g.length;u++){const b=g[u],E=y(b);m.includes(E)||(p.splice(u,0,b),R.push(b))}return r==="wait"&&R.length&&(p=R),P(L(p)),I(l),null}const{forceRender:S}=i.useContext(K);return e.jsx(e.Fragment,{children:g.map(p=>{const u=y(p),b=h&&!d?!1:l===g||m.includes(u),E=()=>{if(c.has(u))c.set(u,!0);else return;let M=!0;c.forEach(z=>{z||(M=!1)}),M&&(S?.(),P(x.current),h&&j?.(),a&&a())};return e.jsx(V,{isPresent:b,initial:!f.current||s?void 0:!1,custom:n,presenceAffectsLayout:o,mode:r,root:w,onExitComplete:b?void 0:E,anchorX:v,children:p},u)})})},q=({className:t,variant:n="default"})=>{const s=e.jsx(U.div,{animate:{x:["0%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/10 to-transparent"});return n==="account"?e.jsxs("div",{className:N("relative overflow-hidden rounded-3xl p-5 min-w-[260px] h-[160px]","bg-muted/50",t),children:[s,e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-muted animate-pulse"}),e.jsx("div",{className:"w-20 h-4 rounded-md bg-muted animate-pulse"})]}),e.jsxs("div",{className:"mt-auto pt-12 space-y-2",children:[e.jsx("div",{className:"w-24 h-4 rounded-md bg-muted animate-pulse"}),e.jsx("div",{className:"w-32 h-6 rounded-md bg-muted animate-pulse"})]})]}):n==="transaction"?e.jsxs("div",{className:N("relative overflow-hidden flex items-center gap-3 p-4",t),children:[s,e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-muted animate-pulse shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"w-32 h-4 rounded-md bg-muted animate-pulse"}),e.jsx("div",{className:"w-20 h-3 rounded-md bg-muted animate-pulse"})]}),e.jsx("div",{className:"w-16 h-5 rounded-md bg-muted animate-pulse shrink-0"})]}):n==="goal"?e.jsxs("div",{className:N("relative overflow-hidden rounded-3xl p-4 text-center","bg-muted/30 border border-border/50",t),children:[s,e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted animate-pulse mx-auto mb-3"}),e.jsx("div",{className:"w-24 h-4 rounded-md bg-muted animate-pulse mx-auto mb-2"}),e.jsx("div",{className:"w-16 h-3 rounded-md bg-muted animate-pulse mx-auto"})]}):e.jsxs("div",{className:N("relative overflow-hidden rounded-3xl p-6","bg-muted/30 border border-border/50",t),children:[s,e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"w-24 h-4 rounded-md bg-muted animate-pulse"}),e.jsx("div",{className:"w-16 h-3 rounded-md bg-muted animate-pulse"})]})]}),e.jsx("div",{className:"h-2 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-20 h-8 rounded-full bg-muted animate-pulse"}),e.jsx("div",{className:"w-20 h-8 rounded-full bg-muted animate-pulse"})]})]})]})},ee=({count:t=3,variant:n="transaction",className:s})=>e.jsx("div",{className:N("space-y-1",s),children:Array.from({length:t}).map((a,o)=>e.jsx(q,{variant:n},o))});export{Z as A,q as S,ee as a};
