import{j as e}from"./radix-ui-q4KaMQ3n.js";import{r as l,f as xe,u as ue}from"./router-Ba52I8Mc.js";import{C as u,a as h,b as C,c as T}from"./Card-BOBbUquv.js";import{e as S,d,u as he,B as k,f as U,j as P,b as W}from"./index-FKt_UJHc.js";import{T as je,a as pe,b as R,c as E}from"./tabs-IDjwLZ54.js";import{T as fe,S as ve}from"./TaskModal-C8RHGGxr.js";import{y as V,X as Ne,z as $,J as te,s as B,K as ge,v as M,u as I,N as be,m as K,p as ye,n as g,r as q,P as Y,w as we,x as Ce,t as Z,O as Te}from"./utils-BXZcBnh9.js";import{K as ke,a as re}from"./KanbanCard-zyX2mgxG.js";import"./react-vendor-pR2cKLDH.js";import"./charts-CDhWM7dn.js";import"./TextArea-knNelttm.js";import"./dnd-kit-DHe5TpGb.js";const Se=({isOpen:j,onClose:b,onSave:a,resource:m})=>{const[p,y]=l.useState(""),[v,f]=l.useState(""),[D,w]=l.useState(""),[o,N]=l.useState({});l.useEffect(()=>{m?(y(m.title),f(m.url),w(m.description||"")):(y(""),f(""),w("")),N({})},[m,j]);const A=n=>{try{return new URL(n),!0}catch{return!1}},F=()=>{const n={};if(p.trim()||(n.title="Title is required"),v.trim()?A(v)||(n.url="Please enter a valid URL (e.g., https://example.com)"):n.url="URL is required",Object.keys(n).length>0){N(n);return}a({title:p.trim(),url:v.trim(),description:D.trim()||void 0}),y(""),f(""),w(""),N({})};return j?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:b}),e.jsxs("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5"}),m?"Edit Resource":"Add Resource"]}),e.jsx("button",{onClick:b,className:"text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:e.jsx(Ne,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:S("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",o.title&&"border-red-500"),placeholder:"e.g., Course Textbook, Lecture Slides, etc.",value:p,onChange:n=>{y(n.target.value),o.title&&N({...o,title:void 0})}}),o.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",className:S("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",o.url&&"border-red-500"),placeholder:"https://example.com",value:v,onChange:n=>{f(n.target.value),o.url&&N({...o,url:void 0})}}),o.url&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.url})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[e.jsx($,{className:"w-4 h-4"}),"Description (Optional)"]}),e.jsx("textarea",{className:"w-full px-4 py-2.5 bg-background border border-input rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent transition-all duration-200 resize-none",placeholder:"Add a brief description about this resource...",rows:3,value:D,onChange:n=>w(n.target.value)})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-muted/30",children:[e.jsx(d,{variant:"secondary",onClick:b,children:"Cancel"}),e.jsx(d,{onClick:F,children:m?"Save Changes":"Add Resource"})]})]})]}):null},Ke=()=>{const{subjectId:j}=xe(),b=ue(),{data:a,updateData:m,showToast:p}=he(),[y,v]=l.useState("overview"),[f,D]=l.useState("kanban"),[w,o]=l.useState(!1),[N,A]=l.useState(!1),[F,n]=l.useState(!1),[ie,G]=l.useState(void 0),[L,z]=l.useState(void 0),[O,ee]=l.useState(""),[H,J]=l.useState(!1),t=l.useMemo(()=>a.university.subjects.find(s=>s.id===j),[a.university.subjects,j]);l.useEffect(()=>{t?.description&&ee(t.description)},[t]);const x=l.useMemo(()=>a.university.tasks.filter(s=>s.subjectId===j),[a.university.tasks,j]),ae=l.useMemo(()=>a.university.exams.filter(s=>s.subjectId===j),[a.university.exams,j]),X=l.useMemo(()=>{const s=x.filter(me=>me.status==="done").length,r=x.length,i=r-s,c=r>0?s/r*100:0;return{completed:s,total:r,pending:i,completionRate:c}},[x]),_=l.useMemo(()=>({todo:x.filter(s=>s.status==="todo"),"in-progress":x.filter(s=>s.status==="in-progress"),done:x.filter(s=>s.status==="done")}),[x]);if(!t)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Subject Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The subject you're looking for doesn't exist."}),e.jsxs(d,{onClick:()=>b("/university"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Back to University"]})]})});const Q=s=>{const r=a.university.tasks.map(i=>i.id===s?{...i,status:i.status==="done"?"todo":"done"}:i);m({university:{...a.university,tasks:r}})},se=s=>{const r=a.university.tasks.filter(i=>i.id!==s);m({university:{...a.university,tasks:r}}),p("Task deleted successfully!","success")},le=(s,r)=>{const i=a.university.tasks.map(c=>c.id===s?{...c,status:r}:c);m({university:{...a.university,tasks:i}})},ne=()=>{const s=a.university.subjects.map(r=>r.id===j?{...r,description:O.trim()||void 0}:r);m({university:{...a.university,subjects:s}}),J(!1),p("Description saved!","success")},ce=s=>{const r={id:Date.now().toString(),...s},i=a.university.subjects.map(c=>c.id===j?{...c,resources:[...c.resources||[],r]}:c);m({university:{...a.university,subjects:i}}),n(!1),p("Resource added successfully!","success")},de=s=>{if(!L)return;const r=a.university.subjects.map(i=>i.id===j?{...i,resources:(i.resources||[]).map(c=>c.id===L.id?{...c,...s}:c)}:i);m({university:{...a.university,subjects:r}}),n(!1),z(void 0),p("Resource updated successfully!","success")},oe=s=>{const r=a.university.subjects.map(i=>i.id===j?{...i,resources:(i.resources||[]).filter(c=>c.id!==s)}:i);m({university:{...a.university,subjects:r}}),p("Resource deleted successfully!","success")};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>b("/university"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Back to University"]}),e.jsxs(d,{onClick:()=>A(!0),variant:"outline",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Edit Subject"]})]}),e.jsx(u,{className:"border-l-4",style:{borderLeftColor:t.color},children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white text-2xl font-bold shadow-md",style:{backgroundColor:t.color},children:t.name.split(" ").slice(0,2).map(s=>s.charAt(0).toUpperCase()).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),t.professor&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-lg",children:t.professor})]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),e.jsx("div",{className:"text-2xl font-bold",children:X.total}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tasks"})]})})}),e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),e.jsx("div",{className:"text-2xl font-bold",children:X.completed}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]})})}),e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(be,{className:"w-8 h-8 mx-auto mb-2 text-orange-500"}),e.jsx("div",{className:"text-2xl font-bold",children:X.pending}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"})]})})}),e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),e.jsx("div",{className:"text-2xl font-bold",children:ae.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Exams"})]})})})]}),e.jsxs(je,{value:y,onValueChange:v,children:[e.jsxs(pe,{children:[e.jsxs(R,{value:"overview",children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Overview"]}),e.jsxs(R,{value:"tasks",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Tasks (",x.length,")"]}),e.jsxs(R,{value:"schedule",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Schedule"]}),e.jsxs(R,{value:"notes",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Notes"]}),e.jsxs(R,{value:"resources",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Resources"]})]}),e.jsx(E,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5"}),"Schedule"]})}),e.jsxs(h,{className:"space-y-3",children:[t.lectures&&t.lectures.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:e.jsx(k,{variant:"outline",style:{borderColor:t.color,color:t.color},children:"Lectures"})}),t.lectures.map((s,r)=>e.jsxs("div",{className:"pl-4 py-2 border-l-2",style:{borderColor:t.color},children:[e.jsx("div",{className:"font-medium",children:s.day}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(g,{className:"w-3 h-3"}),s.startTime," ","- ",s.endTime]}),s.location&&e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(q,{className:"w-3 h-3"}),s.location]})]},r))]}),t.sections&&t.sections.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:e.jsx(k,{variant:"outline",style:{borderColor:t.color,color:t.color,opacity:.8},children:"Sections"})}),t.sections.map((s,r)=>e.jsxs("div",{className:"pl-4 py-2 border-l-2",style:{borderColor:t.color,opacity:.8},children:[e.jsx("div",{className:"font-medium",children:s.day}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(g,{className:"w-3 h-3"}),s.startTime," ","- ",s.endTime]}),s.location&&e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(q,{className:"w-3 h-3"}),s.location]})]},r))]}),(!t.lectures||t.lectures.length===0)&&(!t.sections||t.sections.length===0)&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No schedule set"})]})]}),e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5"}),"Recent Tasks"]}),e.jsxs(d,{size:"sm",onClick:()=>o(!0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[x.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("button",{onClick:()=>Q(s.id),className:S("w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",s.status==="done"?"bg-primary border-primary":"border-muted-foreground"),children:s.status==="done"&&e.jsx(I,{className:"w-3 h-3 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:S("font-medium",s.status==="done"&&"line-through text-muted-foreground"),children:s.title}),s.dueDate&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due:"," ",U(s.dueDate)]})]})]}),e.jsx(k,{variant:"outline",style:{borderColor:P(s.priority),color:P(s.priority)},children:s.priority})]},s.id)),x.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tasks yet"}),x.length>5&&e.jsxs(d,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>v("tasks"),children:["View all ",x.length," tasks"]})]})})]})]})}),e.jsx(E,{value:"tasks",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{children:"All Tasks"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx(d,{variant:f==="kanban"?"default":"ghost",size:"sm",onClick:()=>D("kanban"),className:"rounded-r-none",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx(d,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>D("list"),className:"rounded-l-none",children:e.jsx(Ce,{className:"w-4 h-4"})})]}),e.jsxs(d,{onClick:()=>o(!0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})]})}),e.jsx(h,{children:f==="kanban"?x.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(M,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No tasks yet"}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Add Task" to create your first task'})]}):e.jsx(ke,{columns:[{id:"todo",title:"To Do",items:_.todo,color:"from-blue-500 to-blue-600"},{id:"in-progress",title:"In Progress",items:_["in-progress"],color:"from-yellow-500 to-yellow-600"},{id:"done",title:"Done",items:_.done,color:"from-green-500 to-green-600"}],onDragEnd:(s,r)=>{le(s,r)},getItemId:s=>s.id,renderItem:s=>{const r=[];if(r.push({label:s.priority.toString(),variant:"outline",icon:void 0}),s.dueDate){const c=W(s.dueDate);r.push({label:U(s.dueDate),variant:s.status!=="done"&&c<=3?"destructive":"secondary",icon:e.jsx(K,{className:"w-3 h-3"})})}const i=[{label:"Edit",icon:e.jsx(B,{className:"w-4 h-4"}),onClick:()=>{G(s),o(!0)}},{label:s.status==="done"?"Mark as Todo":"Mark as Done",icon:e.jsx(I,{className:"w-4 h-4"}),onClick:()=>Q(s.id),separator:!0},{label:"Delete",icon:e.jsx(Z,{className:"w-4 h-4"}),onClick:()=>se(s.id),variant:"destructive"}];return e.jsx(re,{id:s.id,title:s.title,description:s.description,badges:r,actions:i})},dragOverlay:s=>e.jsx(re,{id:s.id,title:s.title,description:s.description,badges:[{label:s.priority.toString(),variant:"outline"},...s.dueDate?[{label:U(s.dueDate),variant:"secondary",icon:e.jsx(K,{className:"w-3 h-3"})}]:[]],actions:[]})}):e.jsxs("div",{className:"space-y-2",children:[x.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("button",{onClick:()=>Q(s.id),className:S("w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",s.status==="done"?"bg-primary border-primary":"border-muted-foreground"),children:s.status==="done"&&e.jsx(I,{className:"w-3 h-3 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:S("font-medium",s.status==="done"&&"line-through text-muted-foreground"),children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.dueDate&&e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),U(s.dueDate),s.status!=="done"&&W(s.dueDate)<=3&&e.jsxs("span",{className:"text-red-500 font-medium",children:["(",W(s.dueDate)," ","days left)"]})]}),e.jsx(k,{variant:"outline",style:{borderColor:P(s.priority),color:P(s.priority)},children:s.priority})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>{G(s),o(!0)},children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>se(s.id),children:e.jsx(Z,{className:"w-4 h-4 text-red-500"})})]})]},s.id)),x.length===0&&e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(M,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No tasks yet"}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Add Task" to create your first task'})]})]})})]})}),e.jsx(E,{value:"schedule",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsx(T,{children:"Class Schedule"})}),e.jsxs(h,{className:"space-y-6 w-full ",children:[t.lectures&&t.lectures.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:e.jsx(k,{variant:"outline",style:{borderColor:t.color,color:t.color},children:"Lectures"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.lectures.map((s,r)=>e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-semibold text-lg",children:s.day}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(g,{className:"w-4 h-4"}),s.startTime," ","-"," ",s.endTime]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(q,{className:"w-4 h-4"}),s.location]}),t.professor&&e.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Professor:"," ",t.professor]})]})})},r))})]}),t.sections&&t.sections.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:e.jsx(k,{variant:"outline",style:{borderColor:t.color,color:t.color,opacity:.8},children:"Sections"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.sections.map((s,r)=>e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-semibold text-lg",children:s.day}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(g,{className:"w-4 h-4"}),s.startTime," ","-"," ",s.endTime]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(q,{className:"w-4 h-4"}),s.location]})]})})},r))})]}),(!t.lectures||t.lectures.length===0)&&(!t.sections||t.sections.length===0)&&e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(g,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No schedule set"}),e.jsx("p",{className:"text-sm mt-2",children:"Edit the subject to add lectures and sections"})]})]})]})}),e.jsx(E,{value:"notes",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{children:"Notes & Description"}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>J(!H),children:H?"Cancel":"Edit"})]})}),e.jsx(h,{children:H?e.jsxs("div",{className:"space-y-4",children:[e.jsx("textarea",{className:"w-full min-h-[300px] p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Add notes, important information, or description for this subject...",value:O,onChange:s=>ee(s.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(d,{variant:"secondary",onClick:()=>J(!1),children:"Cancel"}),e.jsx(d,{onClick:ne,children:"Save Notes"})]})]}):e.jsx("div",{children:O?e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"whitespace-pre-wrap",children:O})}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx($,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No notes yet"}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Edit" to add notes and description'})]})})})]})}),e.jsx(E,{value:"resources",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{children:"Links & Resources"}),e.jsxs(d,{size:"sm",onClick:()=>{z(void 0),n(!0)},children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Add Resource"]})]})}),e.jsx(h,{children:t.resources&&t.resources.length>0?e.jsx("div",{className:"space-y-3",children:t.resources.map(s=>e.jsx(u,{className:"hover:shadow-md transition-shadow",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(V,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold mb-1 flex items-center gap-2",children:s.title}),e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1 mb-2 break-all",children:[e.jsx(Te,{className:"w-3 h-3 flex-shrink-0"}),s.url]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>{z(s),n(!0)},children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>oe(s.id),children:e.jsx(Z,{className:"w-4 h-4 text-red-500"})})]})]})})},s.id))}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(V,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No resources yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Add useful links, documents, and resources for this subject"})]})})]})})]}),e.jsx(fe,{isOpen:w,onClose:()=>{o(!1),G(void 0)},task:ie}),e.jsx(ve,{isOpen:N,onClose:()=>A(!1),subject:t}),e.jsx(Se,{isOpen:F,onClose:()=>{n(!1),z(void 0)},onSave:L?de:ce,resource:L})]})};export{Ke as SubjectDetails};
