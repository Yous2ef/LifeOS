import{j as e}from"./radix-ui-CZbxChR9.js";import{r as o}from"./router-CLckEVPx.js";import{M as w,d as v,B as N}from"./index-Cl9Owp1C.js";import{a as i,F as H,T as A}from"./TextArea-BkkJIZd4.js";import{X as U}from"./utils-gzJrCzCn.js";const L=({isOpen:h,onClose:x,onSave:k,onUpdate:y,project:a})=>{const[s,g]=o.useState({title:"",description:"",type:"personal",status:"to-do",priority:5,repositoryUrl:"",liveUrl:"",startDate:"",completedDate:"",dueDate:"",estimatedHours:0,actualHours:0,learnings:"",challenges:""}),[u,b]=o.useState(""),[n,c]=o.useState([]),[m,f]=o.useState(""),[d,p]=o.useState([]);o.useEffect(()=>{a?(g({title:a.title,description:a.description||"",type:a.type,status:a.status,priority:a.priority,repositoryUrl:a.repositoryUrl||"",liveUrl:a.liveUrl||"",startDate:a.startDate||"",completedDate:a.completedDate||"",dueDate:a.dueDate||"",estimatedHours:a.estimatedHours||0,actualHours:a.actualHours,learnings:a.learnings||"",challenges:a.challenges||""}),c(a.technologies),p(a.features)):(g({title:"",description:"",type:"personal",status:"to-do",priority:5,repositoryUrl:"",liveUrl:"",startDate:"",completedDate:"",dueDate:"",estimatedHours:0,actualHours:0,learnings:"",challenges:""}),c([]),p([]))},[a,h]);const l=t=>{const{name:r,value:C}=t.target;g(F=>({...F,[r]:["priority","estimatedHours","actualHours"].includes(r)?Number(C):C}))},D=()=>{u.trim()&&!n.includes(u.trim())&&(c([...n,u.trim()]),b(""))},P=t=>{c(n.filter(r=>r!==t))},j=()=>{m.trim()&&!d.includes(m.trim())&&(p([...d,m.trim()]),f(""))},S=t=>{p(d.filter(r=>r!==t))},T=t=>{t.preventDefault();const r={...s,technologies:n,features:d,tasks:a?.tasks||[],screenshots:a?.screenshots||[],description:s.description||void 0,repositoryUrl:s.repositoryUrl||void 0,liveUrl:s.liveUrl||void 0,startDate:s.startDate||void 0,completedDate:s.completedDate||void 0,dueDate:s.dueDate||void 0,estimatedHours:s.estimatedHours||void 0,learnings:s.learnings||void 0,challenges:s.challenges||void 0};a&&y?y(a.id,r):k(r),x()};return e.jsx(w,{isOpen:h,onClose:x,title:a?"Edit Project":"New Project",children:e.jsxs("form",{onSubmit:T,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2 ",children:[e.jsx(i,{label:"Project Title",name:"title",value:s.title,onChange:l,required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(H,{label:"Type",name:"type",value:s.type,onChange:l,options:[{value:"personal",label:"Personal"},{value:"practice",label:"Practice"},{value:"portfolio",label:"Portfolio"},{value:"client",label:"Client"},{value:"open-source",label:"Open Source"}]}),e.jsx(H,{label:"Status",name:"status",value:s.status,onChange:l,options:[{value:"to-do",label:"To Do"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"}]})]}),e.jsx(A,{label:"Description",name:"description",value:s.description,onChange:l,rows:3}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Priority (1-10)"}),e.jsx("input",{type:"range",name:"priority",min:"1",max:"10",value:s.priority,onChange:l,className:"w-full",title:"Priority"}),e.jsx("div",{className:"text-center text-sm text-muted-foreground mt-1",children:s.priority})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Technologies"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:u,onChange:t=>b(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),D()),placeholder:"Add technology...",className:"flex-1 px-3 py-2 bg-background border border-input rounded-md text-sm"}),e.jsx(v,{type:"button",onClick:D,variant:"outline",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(t=>e.jsxs(N,{variant:"secondary",className:"gap-1",children:[t,e.jsx(U,{className:"h-3 w-3 cursor-pointer",onClick:()=>P(t)})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Key Features"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:m,onChange:t=>f(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),j()),placeholder:"Add feature...",className:"flex-1 px-3 py-2 bg-background border border-input rounded-md text-sm"}),e.jsx(v,{type:"button",onClick:j,variant:"outline",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(t=>e.jsxs(N,{variant:"outline",className:"gap-1",children:[t,e.jsx(U,{className:"h-3 w-3 cursor-pointer",onClick:()=>S(t)})]},t))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{label:"Repository URL",name:"repositoryUrl",type:"url",value:s.repositoryUrl,onChange:l}),e.jsx(i,{label:"Live URL",name:"liveUrl",type:"url",value:s.liveUrl,onChange:l})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{label:"Start Date",name:"startDate",type:"date",value:s.startDate,onChange:l}),e.jsx(i,{label:"Due Date",name:"dueDate",type:"date",value:s.dueDate,onChange:l}),e.jsx(i,{label:"Completed Date",name:"completedDate",type:"date",value:s.completedDate,onChange:l})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{label:"Estimated Hours",name:"estimatedHours",type:"number",value:s.estimatedHours,onChange:l}),e.jsx(i,{label:"Actual Hours",name:"actualHours",type:"number",value:s.actualHours,onChange:l})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4  bottom-0",children:[e.jsx(v,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),e.jsx(v,{type:"submit",children:a?"Update":"Create"})]})]})})};export{L as P};
