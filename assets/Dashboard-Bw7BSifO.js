import{j as e}from"./radix-ui-C3V2uSY1.js";import{r as p,u as oe}from"./router-BQf8R6iK.js";import{C as g,a as f,b as D,c as P,d as J}from"./Card-COpkhGGM.js";import{a as ve,G as ee,B as M,g as S,u as Ne,p as ye,q as be,s as se,t as F,v as we,w as te,j as b,x as ke}from"./index-Dn5yG4Az.js";import{P as T}from"./progress-C1RbQUJh.js";import{T as De,a as Pe,b as $,c as R}from"./tabs-BW2NOjDq.js";import{c as ae,X as W,l as Te,m as Ce,n as Se,i as Ee,W as G,a as B,A as L,o as ce,p as Ae,q as Ie,r as Q,G as ne,s as H,t as O,u as q,Z as V,g as K,B as Me,h as Fe,v as re}from"./utils-MsfPC-Eo.js";import"./react-vendor-pR2cKLDH.js";import"./charts-5ZM4_dsB.js";import"./dnd-kit-VvYmaRfD.js";const ie="lifeos_login_banner_dismissed",le="lifeos_login_banner_never_show",Ue=({variant:r="full",className:v=""})=>{const{isAuthenticated:h,isLoading:l}=ve(),[d,c]=p.useState(!1),[w,C]=p.useState(!1);if(p.useEffect(()=>{const n=sessionStorage.getItem(ie),E=localStorage.getItem(le);n==="true"&&c(!0),E==="true"&&C(!0)},[]),h||l||d||w)return null;const u=()=>{sessionStorage.setItem(ie,"true"),c(!0)},j=()=>{localStorage.setItem(le,"true"),C(!0)},y=[{icon:ae,title:"Cloud Sync",description:"Access your data from anywhere"},{icon:Ce,title:"Secure Backup",description:"Never lose your data"},{icon:Se,title:"Multi-Device",description:"Sync across all devices"}];return r==="compact"?e.jsx(g,{className:`p-4 bg-primary/5 border-primary/20 ${v}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(ae,{className:"text-primary",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Sign in to sync your data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your data safe with Google Drive backup"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{}),e.jsx(M,{variant:"ghost",size:"sm",onClick:u,className:"text-muted-foreground hover:text-foreground",children:e.jsx(W,{size:16})})]})]})}):e.jsxs(g,{className:`p-6 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 border-primary/20 ${v}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:e.jsx(Te,{className:"text-primary",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Unlock Cloud Features"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with Google to enable cloud sync and backup"})]})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:u,className:"text-muted-foreground hover:text-foreground -mt-2 -mr-2",children:e.jsx(W,{size:18})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:y.map(n=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/50 rounded-lg border border-border/50",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0",children:e.jsx(n.icon,{className:"text-primary",size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground text-sm",children:n.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})]},n.title))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:j,className:"text-muted-foreground text-xs",children:"Don't show again"}),e.jsx(ee,{})]})]})},$e=({onDismiss:r})=>{const[v,h]=p.useState(!1),l=p.useRef(null);p.useEffect(()=>{const c=w=>{l.current&&!l.current.contains(w.target)&&h(!1)};return v&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[v]);const d=c=>{r(c),h(!1)};return e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:c=>{c.stopPropagation(),h(!v)},className:"p-2 text-muted-foreground hover:text-destructive hover:bg-accent rounded-lg transition-colors duration-200 flex items-center gap-1",title:"Dismiss options","aria-label":"Dismiss options",children:[e.jsx(W,{size:20}),e.jsx(Ee,{size:14})]}),v&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-popover border border-border rounded-lg shadow-2xl z-50 overflow-hidden",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:c=>{c.stopPropagation(),d("session")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For this session"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again when you reopen"})]}),e.jsxs("button",{onClick:c=>{c.stopPropagation(),d("day")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 day"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 24 hours"})]}),e.jsxs("button",{onClick:c=>{c.stopPropagation(),d("week")},className:"w-full px-4 py-2 text-left text-sm text-foreground hover:bg-accent transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"For 1 week"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show again in 7 days"})]}),e.jsx("div",{className:"border-t border-border my-1"}),e.jsxs("button",{onClick:c=>{c.stopPropagation(),d("never")},className:"w-full px-4 py-2 text-left text-sm text-destructive hover:bg-destructive/10 transition-colors duration-150",children:[e.jsx("div",{className:"font-medium",children:"Never show again"}),e.jsx("div",{className:"text-xs text-destructive/80",children:"Permanently hide this notification"})]})]})})]})},Re="lifeos-finance-data";function Ge({compact:r=!1}){const v=oe(),h=p.useMemo(()=>{try{const c=localStorage.getItem(Re);if(c)return JSON.parse(c)}catch(c){console.error("Error loading finance data:",c)}return{incomes:[],expenses:[],installments:[],goals:[],settings:{currency:"EGP"}}},[]),l=p.useMemo(()=>{const c=new Date,w=c.getMonth(),C=c.getFullYear(),u=h.incomes?.filter(a=>{const o=new Date(a.actualDate||a.expectedDate||a.createdAt);return o.getMonth()===w&&o.getFullYear()===C})||[],j=h.expenses?.filter(a=>{const o=new Date(a.date);return o.getMonth()===w&&o.getFullYear()===C})||[],y=u.reduce((a,o)=>a+o.amount,0),n=j.reduce((a,o)=>a+o.amount,0),E=y-n,Y=y>0?(y-n)/y*100:0,A=h.installments?.filter(a=>a.status==="active").length||0,s=h.installments?.filter(a=>{if(a.status!=="active")return!1;const o=new Date(a.nextPaymentDate),m=Math.ceil((o.getTime()-c.getTime())/(1e3*60*60*24));return m>=0&&m<=7}).length||0,t=h.goals?.filter(a=>a.status==="active").length||0,x=h.goals?.filter(a=>a.status==="active").reduce((a,o)=>{const m=o.targetAmount>0?o.currentAmount/o.targetAmount*100:0;return a+m},0)/Math.max(1,t);return{totalIncome:y,totalExpenses:n,balance:E,savingsRate:Y,activeInstallments:A,upcomingPayments:s,activeGoals:t,goalProgress:x}},[h]),d=c=>{const w=h.settings?.currency||"EGP",C={EGP:"Ø¬.Ù…",USD:"$",EUR:"â‚¬",GBP:"Â£",SAR:"Ø±.Ø³",AED:"Ø¯.Ø¥"};return`${c.toLocaleString("ar-EG")} ${C[w]||w}`};return r?e.jsx(g,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>v("/finance"),children:e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600",children:e.jsx(G,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Finance"}),e.jsxs("p",{className:S("text-lg font-bold",l.balance>=0?"text-green-600":"text-red-600"),children:[l.balance>=0?"+":"",d(l.balance)]})]}),l.upcomingPayments>0&&e.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:l.upcomingPayments})]}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]})})}):e.jsxs(g,{children:[e.jsx(D,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(P,{className:"text-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-primary"}),"Ø§Ù„Ù…Ø§Ù„ÙŠØ© - Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"]}),e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>v("/finance"),children:["Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„",e.jsx(L,{className:"h-4 w-4 mr-1"})]})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-600 mb-1",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„Ø¯Ø®Ù„"})]}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:d(l.totalIncome)})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1 text-red-600 mb-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª"})]}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:d(l.totalExpenses)})]}),e.jsxs("div",{className:S("p-3 rounded-lg border",l.balance>=0?"bg-blue-500/10 border-blue-500/20":"bg-orange-500/10 border-orange-500/20"),children:[e.jsxs("div",{className:S("flex items-center gap-1 mb-1",l.balance>=0?"text-blue-600":"text-orange-600"),children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Ø§Ù„ØµØ§ÙÙŠ"})]}),e.jsxs("p",{className:S("text-lg font-bold",l.balance>=0?"text-blue-600":"text-orange-600"),children:[l.balance>=0?"+":"",d(l.balance)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Ø§Ù„Ø£Ù‚Ø³Ø§Ø· Ø§Ù„Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.activeInstallments}),l.upcomingPayments>0&&e.jsxs("span",{className:"text-xs text-orange-500 flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),l.upcomingPayments," Ù‚Ø§Ø¯Ù…Ø©"]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.activeGoals}),l.activeGoals>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.goalProgress.toFixed(0),"% Ù…ØªÙˆØ³Ø·"]})]}),l.activeGoals>0&&e.jsx(T,{value:l.goalProgress,className:"h-1 mt-2"})]})]}),l.totalIncome>0&&e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-green-500/10 to-blue-500/10 border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ø¯Ø®Ø§Ø±"}),e.jsxs("span",{className:S("text-lg font-bold",l.savingsRate>=20?"text-green-600":l.savingsRate>=10?"text-blue-600":l.savingsRate>=0?"text-yellow-600":"text-red-600"),children:[l.savingsRate.toFixed(0),"%"]})]}),e.jsx(T,{value:Math.max(0,Math.min(100,l.savingsRate)),className:"h-2 mt-2"})]})]})]})}const We=()=>{const{data:r,dismissedNotifications:v,dismissNotification:h,neverShowAgain:l}=Ne(),d=oe(),c=ye(),w=p.useMemo(()=>be(),[]),C=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),u=p.useMemo(()=>r.programming||{learningItems:[],skills:[],tools:[],projects:[]},[r.programming]),j=p.useMemo(()=>r.freelancing?.projects||[],[r.freelancing]),y=p.useMemo(()=>r.finance||{incomes:[],expenses:[],installments:[],goals:[]},[r.finance]),n=p.useMemo(()=>{const s=r.university.tasks.filter(i=>i.status==="done").length,t=r.university.tasks.length,x=t-s,a=r.university.tasks.filter(i=>i.status!=="done"&&i.dueDate&&se(i.dueDate)).length,o=r.university.exams.filter(i=>{const U=F(i.date);return U>=0&&U<=7}).length,m=j.filter(i=>i.status==="in-progress"||i.status==="todo").length,I=j.filter(i=>i.status==="completed"||i.status==="done").length,_=j.filter(i=>i.status==="completed"||i.status==="done").reduce((i,U)=>i+(U.expectedProfit||0),0),z=r.freelancing.applications.filter(i=>i.status==="applied"||i.status==="interested").length,N=(u.learningItems?.filter(i=>i.status==="in-progress"||i.status==="to-start").length||0)+(u.projects?.filter(i=>i.status==="in-progress"||i.status==="to-do").length||0),k=u.learningItems?.filter(i=>i.status==="completed").length||0,de=u.projects?.filter(i=>i.status==="in-progress"||i.status==="to-do").length||0,me=u.skills?.length||0,X=r.home.tasks.filter(i=>i.status!=="done").length,xe=r.home.goals.filter(i=>i.progress<100).length,ue=r.home.habits.filter(i=>i.streak>0).length,he=r.misc.notes.length,ge=r.misc.bookmarks.length,pe=r.misc.quickCaptures.length,Z=t+X,je=s,fe=Z>0?Math.round(je/Z*100):0;return{universityTasksCompleted:s,universityTasksTotal:t,universityTasksActive:x,todayTasks:a,upcomingExams:o,activeProjects:m,completedProjects:I,totalRevenue:_,pendingApplications:z,learningInProgress:N,learningCompleted:k,programmingProjects:de,totalSkills:me,homeTasksActive:X,activeGoals:xe,activeHabits:ue,totalNotes:he,totalBookmarks:ge,quickCaptures:pe,completionRate:fe}},[r,u,j]),E=p.useMemo(()=>{const s=new Date,t=s.getMonth(),x=s.getFullYear(),a=y.expenses?.filter(N=>{const k=new Date(N.date);return k.getMonth()===t&&k.getFullYear()===x})||[],o=y.incomes?.filter(N=>{const k=new Date(N.actualDate||N.expectedDate||N.createdAt);return k.getMonth()===t&&k.getFullYear()===x})||[],m=a.reduce((N,k)=>N+k.amount,0),I=o.reduce((N,k)=>N+k.amount,0),_=I-m,z=y.installments?.filter(N=>N.status==="active").length||0;return{totalExpenses:m,totalIncome:I,balance:_,activeInstallments:z}},[y]),Y=[{id:"university",name:"University",icon:ne,description:"Manage courses, tasks & exams",color:"from-purple-500 to-violet-600",stats:{label:"Active Tasks",value:r.university.tasks.filter(s=>s.status!=="done").length},path:"/university"},{id:"freelancing",name:"Freelancing",icon:H,description:"Track projects & clients",color:"from-blue-500 to-cyan-600",stats:{label:"Active Projects",value:n.activeProjects},path:"/freelancing"},{id:"programming",name:"Programming",icon:O,description:"Learn & build projects",color:"from-green-500 to-emerald-600",stats:{label:"In Progress",value:n.learningInProgress},path:"/programming"},{id:"home",name:"Home & Life",icon:q,description:"Personal goals & tasks",color:"from-orange-500 to-red-600",stats:{label:"Tasks",value:r.home.tasks.filter(s=>s.status!=="done").length},path:"/home"},{id:"finance",name:"Finance",icon:G,description:"Track income & expenses",color:"from-emerald-500 to-teal-600",stats:{label:"This Month",value:`${E.balance>=0?"+":""}${E.balance.toLocaleString()}`},path:"/finance"}],A=p.useMemo(()=>{const s=[];r.university.tasks.filter(a=>a.priority===10&&a.status!=="done").forEach(a=>{const o=r.university.subjects.find(m=>m.id===a.subjectId);if(a.dueDate){const m=F(a.dueDate);m<=3&&s.push({id:`p10-date-${a.id}`,type:"priority10-approaching",title:m<0?"âš ï¸ OVERDUE Priority 10!":`ðŸ”¥ Priority 10 Due ${m===0?"TODAY":`in ${m} day(s)`}`,message:`${a.title} (${o?.name||"Unknown"})`,icon:V,action:()=>d("/university")})}else s.push({id:`p10-${a.id}`,type:"priority10",title:"ðŸš¨ Priority 10 Task!",message:`${a.title} (${o?.name||"Unknown"})`,icon:V,action:()=>d("/university")})}),r.university.exams.forEach(a=>{const o=F(a.date),m=r.university.subjects.find(I=>I.id===a.subjectId);se(a.date)?s.push({id:`exam-today-${a.id}`,type:"exam-today",title:"ðŸ“š EXAM TODAY!",message:`${a.title} (${m?.name||"Unknown"})`,icon:B,action:()=>d("/university")}):we(a.date)?s.push({id:`exam-tomorrow-${a.id}`,type:"exam-tomorrow",title:"âš ï¸ Exam Tomorrow!",message:`${a.title} (${m?.name||"Unknown"})`,icon:K,action:()=>d("/university")}):o===2&&s.push({id:`exam-day-after-${a.id}`,type:"exam-day-after",title:"ðŸ“… Exam in 2 Days",message:`${a.title} (${m?.name||"Unknown"})`,icon:K,action:()=>d("/university")})});const x=new Date;return s.filter(a=>{if(l.includes(a.id))return!1;const o=v.find(m=>m.id===a.id);return!(o&&(!o.dismissUntil||new Date(o.dismissUntil)>x))})},[r,v,l,d]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:[c,", ",r.settings.userName||"there","! ðŸ‘‹"]}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:[te(new Date)," â€¢ ",C]})]}),A.length>0&&e.jsxs(b,{variant:"destructive",className:"text-base px-4 py-2 animate-pulse",children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),A.length," Urgent"]})]}),e.jsxs("p",{className:"text-lg text-muted-foreground italic",children:['"',w,'"']})]}),e.jsx(ke,{}),e.jsx(Ue,{}),A.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(B,{className:"h-6 w-6 text-destructive"}),"Urgent Notifications"]}),e.jsx("div",{className:"grid gap-4",children:A.map(s=>e.jsx(g,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-all",onClick:s.action,children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-3 rounded-lg bg-destructive/10",children:e.jsx(s.icon,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:s.message})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:"sm",onClick:t=>{t.stopPropagation(),s.action()},children:"View"}),e.jsx($e,{onDismiss:t=>{h(s.id,t)}})]})]})})},s.id))})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/university"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"University Tasks"}),e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[n.universityTasksCompleted,"/",n.universityTasksTotal]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.completionRate,"% completion rate"]}),e.jsx(T,{value:n.completionRate,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/university"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Due Today"}),e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.todayTasks}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.todayTasks===0?"All clear! ðŸŽ‰":"Focus on these first"}),n.upcomingExams>0&&e.jsxs("p",{className:"text-xs text-destructive mt-1",children:[n.upcomingExams," exam(s) this week"]}),e.jsx(T,{value:n.todayTasks>0?100:0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/freelancing"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Freelancing Tasks"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.activeProjects}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active projects"}),n.totalRevenue>0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["$",n.totalRevenue.toLocaleString()," earned"]}),e.jsx(T,{value:n.completedProjects>0?Math.round(n.completedProjects/(n.activeProjects+n.completedProjects)*100):0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/programming"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Learning"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.learningInProgress}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resources in progress"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.programmingProjects," active projects"]}),e.jsx(T,{value:n.learningCompleted>0?Math.round(n.learningCompleted/(n.learningInProgress+n.learningCompleted)*100):0,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/home"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Home & Life"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.homeTasksActive}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tasks"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[n.activeGoals," goals"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[n.activeHabits," habits"]})]}),e.jsx(T,{value:n.activeGoals>0?50:0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/programming"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Skills & Tech"}),e.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.totalSkills}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Skills tracked"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.learningCompleted," resources completed"]}),e.jsx(T,{value:n.totalSkills>0?Math.min(n.totalSkills/10*100,100):0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/freelancing"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Freelancing Projects"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total projects"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.completedProjects," completed â€¢"," ",n.activeProjects," active"]}),e.jsx(T,{value:j.length>0?Math.round(n.completedProjects/j.length*100):0,className:"mt-2"})]})]}),e.jsxs(g,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d("/misc"),children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx(re,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.totalNotes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes saved"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[n.totalBookmarks," bookmarks"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[n.quickCaptures," captures"]})]}),e.jsx(T,{value:n.totalNotes>0?Math.min(n.totalNotes/20*100,100):0,className:"mt-2"})]})]})]}),(()=>{const s=[...r.university.tasks.filter(t=>t.status!=="done"&&t.dueDate).map(t=>({id:t.id,title:t.title,type:"Task",module:"University",date:t.dueDate,priority:t.priority,color:"from-purple-500 to-violet-600",status:t.status})),...r.university.exams.filter(t=>!t.taken).map(t=>{const x=r.university.subjects.find(a=>a.id===t.subjectId);return{id:t.id,title:t.title,type:"Exam",module:x?.name||"University",date:t.date,priority:10,color:"from-purple-500 to-violet-600",status:"upcoming"}}),...j.filter(t=>t.status!=="completed"&&t.status!=="done"&&t.deadline).map(t=>({id:t.id,title:t.name,type:"Project",module:"Freelancing",date:t.deadline,priority:t.priority||8,color:"from-blue-500 to-cyan-600",status:t.status})),...r.home.goals.filter(t=>t.targetDate&&t.progress<100).map(t=>({id:t.id,title:t.title,type:"Goal",module:"Home",date:t.targetDate,priority:5,color:"from-orange-500 to-red-600",status:"active"}))].filter(t=>F(t.date)>=-7).sort((t,x)=>new Date(t.date).getTime()-new Date(x.date).getTime()).slice(0,6);return s.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(K,{className:"h-6 w-6"}),"Upcoming Deadlines"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:s.map(t=>{const x=F(t.date),a=x<=2,o=x<0;return e.jsx(g,{className:S("hover:shadow-md transition-shadow",o&&"border-l-4 border-l-destructive",a&&!o&&"border-l-4 border-l-warning"),children:e.jsx(f,{className:"pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium line-clamp-1",children:t.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.type," â€¢"," ",t.module]})]}),e.jsxs(b,{variant:t.priority>=8?"destructive":t.priority>=5?"default":"secondary",className:"text-xs",children:["P",t.priority]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:te(new Date(t.date))}),e.jsx(b,{variant:o?"destructive":a?"default":"outline",children:o?`${Math.abs(x)} day(s) overdue`:x===0?"Today":x===1?"Tomorrow":`${x} days`})]})]})})},t.id)})})]}):null})(),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[e.jsx(Q,{className:"h-6 w-6"}),"Your Modules"]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Y.map(s=>e.jsxs(g,{className:"group cursor-pointer hover:shadow-lg transition-all duration-300 overflow-hidden",onClick:()=>d(s.path),children:[e.jsx("div",{className:S("h-2 bg-gradient-to-r",s.color)}),e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:S("p-3 rounded-lg bg-gradient-to-br",s.color,"shadow-lg"),children:e.jsx(s.icon,{className:"h-6 w-6 text-white"})}),e.jsx(L,{className:"h-5 w-5 text-muted-foreground group-hover:translate-x-1 transition-transform"})]}),e.jsx(P,{children:s.name}),e.jsx(J,{children:s.description})]}),e.jsx(f,{children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s.stats.label}),e.jsx(b,{variant:"secondary",children:s.stats.value})]})})]},s.id))})]}),e.jsx(Ge,{}),e.jsxs(g,{children:[e.jsxs(D,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Recent Activity"]}),e.jsx(J,{children:"Quick overview of your latest tasks and projects"})]}),e.jsx(f,{children:e.jsxs(De,{defaultValue:"university",className:"w-full",children:[e.jsxs(Pe,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[e.jsxs($,{value:"university",children:[e.jsx("span",{className:"hidden sm:inline",children:"University"}),e.jsx("span",{className:"sm:hidden",children:"Uni"})]}),e.jsxs($,{value:"freelancing",children:[e.jsx("span",{className:"hidden sm:inline",children:"Freelancing"}),e.jsx("span",{className:"sm:hidden",children:"Free"})]}),e.jsxs($,{value:"programming",children:[e.jsx("span",{className:"hidden sm:inline",children:"Programming"}),e.jsx("span",{className:"sm:hidden",children:"Code"})]}),e.jsxs($,{value:"home",children:[e.jsx("span",{className:"hidden sm:inline",children:"Home & Life"}),e.jsx("span",{className:"sm:hidden",children:"Home"})]})]}),e.jsxs(R,{value:"university",className:"space-y-4 mt-4",children:[r.university.tasks.slice(0,5).length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(re,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No tasks yet"})]}):r.university.tasks.slice(0,5).map(s=>{const t=r.university.subjects.find(x=>x.id===s.subjectId);return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:s.priority>=8?"destructive":s.priority>=5?"default":"secondary",children:["P",s.priority]}),e.jsx(b,{variant:s.status==="done"?"secondary":"outline",children:s.status})]})]},s.id)}),r.university.tasks.length>5&&e.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>d("/university"),children:["View All Tasks",e.jsx(L,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(R,{value:"freelancing",className:"space-y-4 mt-4",children:j.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No projects yet"})]}):j.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.clientName||s.client||"No client"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"outline",children:s.status}),s.expectedProfit&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",s.expectedProfit]})]})]},s.id))}),e.jsx(R,{value:"programming",className:"space-y-4 mt-4",children:(u.learningItems?.length||0)===0&&(u.projects?.length||0)===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(O,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No learning resources yet"})]}):e.jsxs(e.Fragment,{children:[u.learningItems?.length>0&&e.jsx(e.Fragment,{children:u.learningItems.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.type})]}),e.jsx(b,{variant:s.status==="completed"?"secondary":"outline",children:s.status})]},s.id))}),u.projects?.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-4",children:"Active Projects"}),u.projects.filter(s=>s.status==="in-progress").slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:s.description||"No description"})]}),e.jsx(b,{variant:"default",children:s.status})]},s.id))]})]})}),e.jsx(R,{value:"home",className:"space-y-4 mt-4",children:r.home.tasks.length===0&&r.home.goals.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(q,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No tasks or goals yet"})]}):e.jsxs(e.Fragment,{children:[r.home.tasks.slice(0,5).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Home Tasks"}),r.home.tasks.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",children:s.priority}),e.jsx(b,{variant:s.status==="done"?"secondary":"outline",children:s.status})]})]},s.id))]}),r.home.goals.slice(0,3).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-4",children:"Personal Goals"}),r.home.goals.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",children:[s.progress,"%"]}),e.jsx(T,{value:s.progress,className:"w-16 h-2"})]})]},s.id))]})]})})]})})]})]})};export{We as Dashboard};
